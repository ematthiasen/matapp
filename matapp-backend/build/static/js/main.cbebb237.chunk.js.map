{"version":3,"sources":["services/fooditem.js","reducers/fooditemReducer.js","reducers/timerReducer.js","reducers/notificationReducer.js","components/FooditemForm.js","reducers/activeRecipeReducer.js","components/IngredientForm.js","services/recipes.js","reducers/recipeReducer.js","components/RecipeListItem.js","components/RecipeList.js","utils/ingredientCalc.js","components/Ingredient.js","components/Recipe.js","components/FooditemList.js","services/login.js","reducers/loggedInUserReducer.js","components/LoginForm.js","components/Notifications.js","components/HeaderBar.js","App.js","store.js","index.js"],"names":["baseUrl","token","createFooditem","newFooditem","a","config","headers","Authorization","console","log","axios","post","result","deleteFooditem","id","delete","response","fooditemService","setToken","newToken","getAll","get","updateFooditem","changedFooditem","put","addFooditem","fooditem","dispatch","createdItem","data","type","error","fooditemId","deletedItem","fooditemReducer","state","action","concat","newState","filter","item","setTimeoutHandle","timeoutHandle","timerReducer","window","clearTimeout","createNotification","messageText","messageType","timeout","setNotification","setTimeout","clearNotification","notificationReducer","FooditemForm","useDispatch","handleAddFoodItem","event","preventDefault","target","food","value","foodItem","name","protein","fat","carbohydrate","carb","returnValue","Grid","xl","lg","md","sm","xs","Card","variant","CardContent","Typography","onSubmit","Stack","direction","spacing","TextField","label","Button","setActiveRecipe","recipe","updateIngredientAmount","ingredientId","newAmount","activeRecipeReducer","newIngredient","ingredientsArray","ingredients","ingredientToUpdate","find","ingredient","updatedIngredient","amount","newIngredientList","map","newIngredientsArray","IngredientForm","fooditems","useSelector","useState","fooditemObject","setFooditemObject","autocompleteOptions","amountUnit","Math","floor","random","alert","FormControl","Autocomplete","disablePortal","options","onChange","e","obj","renderInput","params","Select","MenuItem","recipeService","getRecipe","createRecipe","newRecipe","updateRecipe","changedRecipe","deleteRecipe","recipeToDelete","addIngredientToRecipe","updateIngredientInRecipe","deleteIngredientFromRecipe","updateAllIngredients","ingredientsList","addRecipe","recipeReducer","selectedRecipe","RecipeListItem","handleCloneRecipe","handleShowRecipe","handleDeleteRecipe","visibleDeleteField","setVisibleDeleteField","TableRow","sx","border","TableCell","component","scope","title","date","align","size","ButtonGroup","onClick","template","IconButton","disabled","color","Alert","RecipeList","recipes","history","useHistory","push","recipeWithoutId","Date","toLocaleDateString","TableContainer","Paper","Table","minWidth","TableHead","TableBody","ingredientCalc","caloriesIn","calcTotalCalOf","reduce","totalCal","calcTotalCarbsOf","totalCarbs","calcTotalFatOf","totalFat","calcTotalProteinOf","totalProtein","Ingredient","updateAmount","setAmount","sliderValue","setSliderValue","sliderMinValue","setSliderMinValue","Number","sliderMaxValue","setSliderMaxValue","Accordion","AccordionSummary","flexGrow","justifyContent","display","AccordionDetails","Box","ml","Slider","marks","min","max","Recipe","activeRecipe","servings","setServings","useParams","useEffect","savedRecipeJSON","localStorage","getItem","JSON","parse","decodedSave","then","length","undefined","localSave","saveObject","setItem","stringify","saveToBackend","m","startIcon","removeItem","gridRow","gridColumn","toFixed","Input","inputProps","step","maxWidth","FooditemList","fooditemList","handleDelete","returnvalue","message","container","flexWrap","loginUser","userdata","loginService","setLoggedInUser","loggedInUserReducer","LoginForm","hideLoginField","handleSubmit","formUsername","formPassword","username","password","receivedTokenAndUserdata","Form","Group","className","controlId","Label","Control","placeholder","Notifications","notification","severity","HeaderBar","logout","showLogin","anchorElementUser","setAnchorElementUser","anchorElementNavigation","setAnchorElementNavigation","anchorElementLogin","setAnchorElementLogin","loggedInUser","setUsername","setPassword","handleClose","handleCloseLoginMenu","handleCloseNavigationMenu","handleLogin","AppBar","position","Toolbar","mr","noWrap","flexgrow","edge","currentTarget","Menu","anchorEl","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","open","Boolean","onClose","textAlign","RouterLink","to","textDecoration","href","my","alignItems","Tooltip","Popover","alignContent","p","px","py","App","showLoginForm","setShowLoginForm","savedUserJSON","savedUser","theme","createTheme","palette","primary","light","main","dark","contrastText","secondary","ThemeProvider","path","reducer","combineReducers","timer","store","createStore","composeWithDevTools","applyMiddleware","thunk","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.cbebb237.chunk.js","sourcesContent":["import axios from 'axios'\r\n//const baseUrl = 'http://localhost:3003/api/fooditems'\r\nconst baseUrl = '/api/fooditems'\r\nlet token = null\r\n\r\nconst setToken = (newToken) => {\r\n  token = `bearer ${newToken}`\r\n  console.log('token set:', token)\r\n}\r\n\r\nconst getAll = () => {\r\n  console.log('getting all?')\r\n  return axios.get(baseUrl)\r\n}\r\n\r\nconst createFooditem = async (newFooditem) => {\r\n  const config = {\r\n    headers: { Authorization: token }\r\n  }\r\n  console.log('config:', config)\r\n  const result = await axios.post(baseUrl, newFooditem, config)\r\n  return result\r\n}\r\n\r\nconst updateFooditem = (id, changedFooditem) => {\r\n  return axios.put(`${baseUrl}/${id}`, changedFooditem)\r\n}\r\n\r\nconst deleteFooditem = async (id) => {\r\n  const config = {\r\n    headers: { Authorization: token }\r\n  }\r\n  console.log('config:', config)\r\n  const response = await axios.delete(`${baseUrl}/${id}`, config)\r\n  return response\r\n}\r\n\r\nconst fooditemService = {\r\n  setToken,\r\n  getAll,\r\n  createFooditem,\r\n  updateFooditem,\r\n  deleteFooditem\r\n\r\n}\r\n\r\nexport default fooditemService\r\n","import fooditemService from '../services/fooditem'\r\n\r\nexport const initFooditems = (fooditemList) => {\r\n  return {\r\n    type: 'INIT_FOODITEMS',\r\n    data: fooditemList\r\n  }\r\n}\r\n\r\nexport const addFooditem = (fooditem) => {\r\n  return async dispatch => {\r\n    try {\r\n      const createdItem = await fooditemService.createFooditem(fooditem)\r\n      console.log('DB created fooditem: ', createdItem.data)\r\n      await dispatch({\r\n        type: 'ADD_FOODITEM',\r\n        data: createdItem.data\r\n      })\r\n      return null\r\n    }\r\n    catch (error) {\r\n      console.log('testing', error.response.data.error)\r\n      return error\r\n    }\r\n  }\r\n}\r\n\r\nexport const createFooditem = (fooditem) => {\r\n  return {\r\n    type: 'ADD_FOODITEM',\r\n    data: fooditem\r\n  }\r\n}\r\n\r\nexport const deleteFooditem = (fooditemId) => {\r\n  return async dispatch => {\r\n    try{\r\n      const deletedItem = await fooditemService.deleteFooditem(fooditemId)\r\n      console.log('Deleted:', deletedItem)\r\n      await dispatch({\r\n        type: 'DELETE_FOODITEM',\r\n        data: fooditemId\r\n      })\r\n      return null\r\n    }\r\n    catch (error) {\r\n      return error\r\n    }\r\n\r\n  }\r\n}\r\n\r\nconst fooditemReducer = (state = [], action) => {\r\n  switch (action.type){\r\n  case 'INIT_FOODITEMS':\r\n    return action.data\r\n  case 'ADD_FOODITEM':\r\n    return state.concat(action.data)\r\n  case 'DELETE_FOODITEM': {\r\n    const newState = state.filter(item => item.id !== action.data)\r\n    return newState\r\n  }\r\n  default:\r\n    return state\r\n  }\r\n}\r\n\r\nexport default fooditemReducer\r\n","export const setTimeoutHandle = (timeoutHandle) => {\r\n  return {\r\n    type: 'SET_TIMER',\r\n    data: {\r\n      timeoutHandle\r\n    }\r\n  }\r\n}\r\n\r\nconst timerReducer = (state = null, action) => {\r\n  switch (action.type) {\r\n  case 'SET_TIMER': {\r\n    window.clearTimeout(state)\r\n    return action.data.timeoutHandle\r\n  }\r\n  case 'CLEAR_TIMER':\r\n    clearTimeout(state)\r\n    return null\r\n  default:\r\n    return state\r\n  }\r\n}\r\n\r\nexport default timerReducer","import { setTimeoutHandle } from './timerReducer'\r\n\r\nexport const createNotification = (messageText, messageType, timeout = 5000) => {\r\n  console.log('creating notification!')\r\n  return async dispatch => {\r\n    await dispatch(setNotification(messageText, messageType))\r\n    await dispatch(setTimeoutHandle(setTimeout( () => {\r\n      dispatch(clearNotification())\r\n    }, timeout )))\r\n  }\r\n}\r\n\r\nconst setNotification = (messageText, messageType) => {\r\n  return {\r\n    type: 'SET_NOTIFICATION',\r\n    data: {\r\n      messageText,\r\n      messageType,\r\n    }\r\n  }\r\n}\r\n\r\nconst clearNotification = () => {\r\n  console.log('clearing!')\r\n  return {\r\n    type: 'CLEAR_NOTIFICATION'\r\n  }\r\n}\r\n\r\n\r\nconst notificationReducer = (state = null, action) => {\r\n  switch (action.type) {\r\n  case 'SET_NOTIFICATION':\r\n    return action.data\r\n  case 'CLEAR_NOTIFICATION':\r\n    return null\r\n  default:\r\n    return state\r\n  }\r\n}\r\n\r\nexport default notificationReducer","import { Button, Card, CardContent, Grid, Stack, TextField, Typography } from '@mui/material'\r\nimport React from 'react'\r\nimport { useDispatch } from 'react-redux'\r\n//import foodItemService from '../services/foodItem'\r\nimport { addFooditem, createFooditem } from '../reducers/fooditemReducer'\r\nimport { createNotification } from '../reducers/notificationReducer'\r\nimport fooditemService from '../services/fooditem'\r\n\r\n/*\r\nfoodItem: {\r\n  name: String,\r\n  protein: Number,\r\n  fat: Number,\r\n  carbohydrate: Number,\r\n  id: String (generated by db)\r\n}\r\n*/\r\nconst FooditemForm = () => {\r\n  const dispatch = useDispatch()\r\n\r\n  const handleAddFoodItem = async (event) => {\r\n    event.preventDefault()\r\n    console.log('Adding food item', event.target.food.value)\r\n\r\n    const foodItem = {\r\n      name: event.target.food.value,\r\n      protein: event.target.protein.value,\r\n      fat: event.target.fat.value,\r\n      carbohydrate: event.target.carb.value\r\n    }\r\n    const returnValue = await dispatch(addFooditem(foodItem))\r\n    if (returnValue != null) {\r\n      //reducer encountered an error and returned it\r\n      //console.log('Error creating fooditem:', returnValue.response.data.error)\r\n      dispatch(createNotification(returnValue.response.data.error))\r\n      //@TODO: Add to error notification window\r\n\r\n    }\r\n\r\n  }\r\n  return (\r\n    <Grid item xl={4} lg={4} md={6} sm={8} xs={12} >\r\n      <Card variant='outlined'>\r\n        <CardContent>\r\n          <Typography variant='h5'>\r\n              Create fooditem\r\n          </Typography>\r\n          <form onSubmit={handleAddFoodItem}>\r\n            <Stack direction='column' spacing={1} >\r\n              <TextField name='food' id='food-name' variant='outlined' label='Food name' />\r\n              <TextField name='carb' type='number' id='carbs' variant='outlined' label='Carbohydrates (per 100g)' />\r\n              <TextField name='fat' type='number' id='fat' variant='outlined' label='Fat (per 100g)' />\r\n              <TextField name='protein' type='number' id='protein' variant='outlined' label='Protein (per 100g)' />\r\n              <Button variant='contained' type='submit'>Create</Button>\r\n            </Stack>\r\n          </form>\r\n        </CardContent>\r\n      </Card>\r\n    </Grid>\r\n  )\r\n}\r\n\r\nexport default FooditemForm\r\n","const generateId = () => {\r\n  return Math.floor(Math.random() * 10000)\r\n}\r\n\r\n\r\nexport const setActiveRecipe = (recipe) => {\r\n  //Recieve a whole recipe.\r\n  return {\r\n    type: 'SET_RECIPE',\r\n    data: recipe\r\n  }\r\n}\r\n\r\nexport const addIngredientToRecipe = (ingredient) => {\r\n  console.log('Ingredient: ', ingredient)\r\n  return {\r\n    type: 'ADD_INGREDIENT',\r\n    data: {\r\n      ...ingredient,\r\n      id: generateId()\r\n    }\r\n  }\r\n}\r\n\r\nexport const updateIngredientAmount = (ingredientId, newAmount) => {\r\n  return {\r\n    type: 'UPDATE_INGREDIENT_AMOUNT',\r\n    data: {\r\n      ingredientId,\r\n      newAmount\r\n    }\r\n  }\r\n}\r\n\r\nexport const deleteIngredient = (ingredientId) => {\r\n  return {\r\n    type: 'DELETE_INGREDIENT',\r\n    data: {\r\n      ingredientId\r\n    }\r\n  }\r\n}\r\n\r\n\r\nconst activeRecipeReducer = (state = null, action) => {\r\n  switch (action.type) {\r\n  case 'SET_RECIPE':{\r\n    return action.data\r\n  }\r\n  case 'ADD_INGREDIENT':{\r\n    const newIngredient = action.data\r\n    const ingredientsArray = state.ingredients.concat(newIngredient)\r\n    return { ...state, ingredients: ingredientsArray }\r\n  }\r\n  case 'UPDATE_INGREDIENT_AMOUNT': {\r\n    const ingredientToUpdate = state.ingredients.find((ingredient) => ingredient.id === action.data.ingredientId)\r\n    const updatedIngredient = {\r\n      ...ingredientToUpdate,\r\n      amount: action.data.newAmount\r\n    }\r\n    const newIngredientList = state.ingredients.map((ingredient) => ingredient.id !== updatedIngredient.id ? ingredient : updatedIngredient)\r\n    //console.log('New state:', { ...state, ingredients: newIngredientList } )\r\n    return { ...state, ingredients: newIngredientList }\r\n  }\r\n  case 'DELETE_INGREDIENT': {\r\n    const newIngredientsArray = state.ingredients.filter(ingredient => ingredient.id !== action.data.ingredientId)\r\n    return { ...state, ingredients: newIngredientsArray }\r\n  }\r\n  default:\r\n    return state\r\n  }\r\n}\r\n\r\nexport default activeRecipeReducer","import { Autocomplete, Card, CardContent, Grid, Typography, TextField, Stack, FormControl, Select, MenuItem, Button } from '@mui/material'\r\nimport React, { useState } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { addIngredientToRecipe } from '../reducers/activeRecipeReducer'\r\n\r\nconst IngredientForm = () => {\r\n  const fooditems = useSelector(state => state.fooditems)\r\n  const dispatch = useDispatch()\r\n\r\n  const [fooditemObject, setFooditemObject] = useState(null)\r\n\r\n  //GOing to need access to food Items\r\n  //and callback function to create Ingredient\r\n\r\n  //@TODO: Needs update for using Autocomplete component\r\n  const addIngredient = (event) => {\r\n    event.preventDefault()\r\n    if(!event.target.fooditem.value) {window.alert('Please select a food from the menu')\r\n      return\r\n    }\r\n    console.log('fooditem', fooditemObject)\r\n    console.log('amount', event.target.amount.value)\r\n    console.log('amountUnit', event.target.amountUnit.value)\r\n\r\n    //setErrorNotification\r\n    //console.log('fooditem: ', event.target.fooditem.value)\r\n    const newIngredient = {\r\n      fooditemId: fooditemObject.id,\r\n      amount: event.target.amount.value,\r\n      amountUnit: event.target.amountUnit.value,\r\n    }\r\n    event.target.amount.value = ''\r\n    event.target.amountUnit.value = 'g'\r\n    console.log('new ingredient', newIngredient)\r\n\r\n    dispatch(addIngredientToRecipe(newIngredient))\r\n  }\r\n  const options = fooditems.map((fooditem) => {\r\n    return { value: fooditem.id, label: fooditem.name }\r\n  })\r\n  const autocompleteOptions = fooditems.map( (fooditem) => {\r\n    return { label: fooditem.name, id: fooditem.id }\r\n  })\r\n\r\n\r\n  return (\r\n    <>\r\n      <Grid item xl={4} lg={4} md={6} sm={8} xs={12} >\r\n        <Card variant='outlined'>\r\n          <CardContent>\r\n            <Typography variant='h5'>\r\n          Add Ingredient\r\n            </Typography>\r\n            <form onSubmit={addIngredient}>\r\n              <FormControl>\r\n\r\n                <Autocomplete\r\n                  disablePortal\r\n                  id='fooditemAutocomplete'\r\n                  options={autocompleteOptions}\r\n                  onChange={ (e, obj) => setFooditemObject(obj)}\r\n                  renderInput={ (params) => <TextField {...params} name='fooditem' />}\r\n                />\r\n                <TextField id='amount' label='amount' type='number' />\r\n                <Select name='amountUnit'>\r\n                  <MenuItem value='g'>gram (g)</MenuItem>\r\n                  <MenuItem value='ml'>milliliter (ml)</MenuItem>\r\n                  <MenuItem value='tbsp'>tablespoon (tbsp)</MenuItem>\r\n                  <MenuItem value='tsp'>teaspoon (tsp)</MenuItem>\r\n                </Select>\r\n                <Button type='submit' variant='contained'>Add</Button>\r\n              </FormControl>\r\n            </form>\r\n          </CardContent>\r\n\r\n        </Card>\r\n      </Grid>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default IngredientForm","import axios from 'axios'\r\n//const baseUrl = 'http://localhost:3003/api/recipes'\r\nconst baseUrl = '/api/recipes'\r\nlet token = null\r\n\r\nconst setToken = (newToken) => {\r\n  token = `bearer ${newToken}`\r\n  console.log('token set:', token)\r\n}\r\n\r\nconst getAll = () => {\r\n  return axios.get(baseUrl)\r\n}\r\n\r\nconst getRecipe = (id) => {\r\n  console.log('getting local recipe')\r\n  return axios.get(`${baseUrl}/${id}`)\r\n}\r\n\r\nconst createRecipe = (newRecipe) => {\r\n  const config = {\r\n    headers: { Authorization: token }\r\n  }\r\n\r\n  return axios.post(baseUrl, newRecipe, config)\r\n}\r\n\r\nconst updateRecipe = (changedRecipe) => {\r\n  const config = {\r\n    headers: { Authorization: token }\r\n  }\r\n\r\n  return axios.put(`${baseUrl}/${changedRecipe.id}`, changedRecipe, config)\r\n}\r\n\r\nconst deleteRecipe = (recipeToDelete) => {\r\n  const config = {\r\n    headers: { Authorization: token }\r\n  }\r\n  return axios.delete(`${baseUrl}/${recipeToDelete.id}`, config)\r\n}\r\n\r\nconst addIngredientToRecipe = (recipe, ingredient) => {\r\n  const config = {\r\n    headers: { Authorization: token }\r\n  }\r\n  return axios.post(`${baseUrl}/${recipe.id}/ingredients`, ingredient, config)\r\n\r\n}\r\n\r\nconst updateAllIngredients = (recipe, ingredientsList) => {\r\n  const config = {\r\n    headers: { Authorization: token }\r\n  }\r\n  return axios.put(`${baseUrl}/${recipe.id}/ingredients`, ingredientsList, config)\r\n}\r\n\r\nconst updateIngredientInRecipe = (recipe, ingredient) => {\r\n  const config = {\r\n    headers: { Authorization: token }\r\n  }\r\n  return axios.put(`${baseUrl}/${recipe.id}/ingredients/${ingredient.id}`, ingredient, config)\r\n}\r\n\r\nconst deleteIngredientFromRecipe = (recipe, ingredientId) => {\r\n  console.log('we deleting now boys!')\r\n  const config = {\r\n    headers: { Authorization: token }\r\n  }\r\n  return axios.delete(`${baseUrl}/${recipe.id}/ingredients/${ingredientId}`, config)\r\n}\r\n\r\n\r\nconst recipeService = {\r\n  getAll,\r\n  getRecipe,\r\n  createRecipe,\r\n  updateRecipe,\r\n  deleteRecipe,\r\n  setToken,\r\n  addIngredientToRecipe,\r\n  updateIngredientInRecipe,\r\n  deleteIngredientFromRecipe,\r\n  updateAllIngredients\r\n}\r\n\r\nexport default recipeService","//NO async with thunk yet\r\n//import recipeService from '../services/recipes'\r\n\r\nexport const initRecipes = (recipeList) => {\r\n\r\n  return {\r\n    type: 'INIT_RECIPES',\r\n    data: recipeList\r\n  }\r\n}\r\n\r\nexport const updateRecipe = (recipe) => {\r\n  return {\r\n    type: 'UPDATE_RECIPE',\r\n    data: recipe\r\n  }\r\n}\r\n\r\nexport const addRecipe = (recipe) => {\r\n  return {\r\n    type: 'ADD_RECIPE',\r\n    data: recipe\r\n  }\r\n}\r\n\r\nexport const deleteRecipe = (recipe) => {\r\n  return {\r\n    type: 'DELETE_RECIPE',\r\n    data: recipe\r\n  }\r\n}\r\n\r\nconst recipeReducer = (state = [], action) => {\r\n  switch (action.type) {\r\n  case 'INIT_RECIPES':\r\n    return action.data\r\n  case 'ADD_RECIPE':\r\n    return state.concat(action.data)\r\n  case 'UPDATE_RECIPE':{\r\n    const selectedRecipe = state.find(recipe => recipe.id === action.data.id)\r\n    console.log('Updated recipe ', selectedRecipe )\r\n    return state.map(recipe => recipe.id !== action.data.id ? recipe : action.data)\r\n  }\r\n  case 'DELETE_RECIPE': {\r\n    const newState = state.filter(recipe => recipe.id !== action.data.id)\r\n    return newState\r\n  }\r\n  default:\r\n    return state\r\n  }\r\n}\r\n\r\nexport default recipeReducer","import React from 'react'\r\nimport { Alert } from 'react-bootstrap'\r\nimport { useState } from 'react'\r\nimport TableRow from '@mui/material/TableRow'\r\nimport TableCell from '@mui/material/TableCell'\r\nimport { Button, ButtonGroup, IconButton } from '@mui/material'\r\nimport DeleteIcon from '@mui/icons-material/Delete'\r\n\r\n\r\nconst RecipeListItem = ({ recipe, handleCloneRecipe, handleShowRecipe, handleDeleteRecipe }) => {\r\n\r\n  const [ visibleDeleteField, setVisibleDeleteField ] = useState(false)\r\n\r\n  return(\r\n    <TableRow key={recipe.id} sx={{ '&:last-child td, &:last-child th': { border: 0 } }}>\r\n      <TableCell component=\"th\" scope=\"row\">{recipe.title}</TableCell>\r\n      <TableCell>{recipe.date}</TableCell>\r\n      <TableCell align='right' size='small'>\r\n        <ButtonGroup><Button variant='contained' onClick={() => handleCloneRecipe(recipe) }>Copy</Button>\r\n          {recipe.template ?\r\n            <>\r\n              <Button variant='outlined'>Edit</Button>\r\n              <IconButton aria-label=\"delete\" disabled>\r\n                <DeleteIcon />\r\n              </IconButton>\r\n            </>\r\n            :\r\n            <>\r\n              <Button variant='contained' onClick={() => handleShowRecipe(recipe)}>Edit</Button>\r\n              <IconButton aria-label=\"delete\" color=\"primary\" onClick={() => setVisibleDeleteField(true)}>\r\n                <DeleteIcon />\r\n              </IconButton>\r\n            </>\r\n          }\r\n        </ButtonGroup>\r\n      </TableCell>\r\n      <br/>\r\n      {visibleDeleteField ?\r\n        <Alert variant='danger'>Really delete?<button onClick={() => handleDeleteRecipe(recipe)}>Yes</button><button onClick={() => setVisibleDeleteField(false)}>No</button> </Alert> :\r\n        <></>\r\n      }\r\n    </TableRow>\r\n  )\r\n}\r\n\r\nexport default RecipeListItem","import React from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { setActiveRecipe } from '../reducers/activeRecipeReducer'\r\nimport { useHistory } from 'react-router'\r\nimport recipeService from '../services/recipes'\r\nimport { addRecipe, deleteRecipe } from '../reducers/recipeReducer'\r\nimport RecipeListItem from './RecipeListItem'\r\nimport { Table, TableBody, TableHead, TableContainer, TableCell, TableRow } from '@mui/material'\r\nimport Paper from '@mui/material/Paper'\r\n\r\nconst RecipeList = () => {\r\n  const recipes = useSelector(state => state.recipes)\r\n  const dispatch = useDispatch()\r\n  const history = useHistory()\r\n\r\n  const handleShowRecipe = (recipe) => {\r\n    console.log('handled show recipe')\r\n    dispatch(setActiveRecipe(recipe))\r\n    history.push(`/recipe/${recipe.id}`)\r\n  }\r\n\r\n  const handleCloneRecipe = async (recipe) => {\r\n\r\n    let { id, ...recipeWithoutId } = recipe\r\n    console.log('WithoutID?', recipeWithoutId)\r\n    recipeWithoutId = { ...recipeWithoutId, template: false }\r\n\r\n    const today = (new Date()).toLocaleDateString('no-no')\r\n    //Handle naming in backend\r\n    //recipeWithoutId.title = `${recipeWithoutId.title} - ${today}`\r\n    console.log(recipeWithoutId.name)\r\n    try {\r\n      const response = await recipeService.createRecipe(recipeWithoutId)\r\n      dispatch(addRecipe(response.data))\r\n      history.push(`/recipe/${response.data.id}`)\r\n    } catch (error) {\r\n      console.log('Failed to clone recipe')\r\n    }\r\n  }\r\n\r\n  const handleDeleteRecipe = async (recipe) => {\r\n    console.log('Delete clicked for recipe: ', recipe.id )\r\n    try {\r\n      const response = await recipeService.deleteRecipe(recipe)\r\n      console.log('deleted recipe', response)\r\n      dispatch(deleteRecipe(recipe))\r\n    } catch (error) {\r\n      console.log('Failed to delete recipe')\r\n    }\r\n  }\r\n\r\n  return(\r\n    <TableContainer component={Paper}>\r\n      <Table sx={{ minWidth: 650 }} aria-label=\"simple table\">\r\n        <TableHead>\r\n          <TableRow>\r\n            <TableCell>\r\n              Name\r\n            </TableCell>\r\n            <TableCell>\r\n              Date created\r\n            </TableCell>\r\n          </TableRow>\r\n        </TableHead>\r\n        <TableBody>\r\n          {recipes.map((recipe) =>\r\n            <RecipeListItem key={recipe.id}\r\n              recipe={recipe}\r\n              handleCloneRecipe={handleCloneRecipe}\r\n              handleShowRecipe={handleShowRecipe}\r\n              handleDeleteRecipe={handleDeleteRecipe}\r\n            />\r\n          )}\r\n        </TableBody>\r\n      </Table>\r\n    </TableContainer>\r\n  )\r\n}\r\n\r\nexport default RecipeList","const caloriesIn = (ingredient) => {\r\n  //console.log('IngredientCalc - ingredient:', ingredient)\r\n  const calInFat = 9\r\n  const calInProtein = 4\r\n  const calInCarb = 4\r\n  const calPer100 = calInFat * ingredient.fooditem.fat + calInProtein * ingredient.fooditem.protein + calInCarb * ingredient.fooditem.carbohydrate\r\n  const totalCal = calPer100 * ingredient.amount / 100\r\n  return totalCal\r\n}\r\n\r\nconst calcTotalCalOf = (ingredients) => {\r\n  const totalCal = ingredients.reduce((totalCal, ingredient) => {\r\n    return totalCal + ingredientCalc.caloriesIn(ingredient)\r\n  }, 0)\r\n  return totalCal\r\n}\r\n\r\nconst calcTotalFatOf = (ingredients) => {\r\n  const totalFat = ingredients.reduce((totalFat, ingredient) => {\r\n    return totalFat + ingredient.fooditem.fat * ingredient.amount / 100\r\n  }, 0)\r\n  return totalFat\r\n}\r\n\r\nconst calcTotalProteinOf = (ingredients) => {\r\n  const totalProtein = ingredients.reduce((totalProtein, ingredient) => {\r\n    return totalProtein + ingredient.fooditem.protein * ingredient.amount / 100\r\n  }, 0)\r\n  return totalProtein\r\n}\r\n\r\nconst calcTotalCarbsOf = (ingredients) => {\r\n  const totalCarbs = ingredients.reduce((totalCarbs, ingredient) => {\r\n    return totalCarbs + ingredient.fooditem.carbohydrate * ingredient.amount / 100\r\n  }, 0)\r\n  return totalCarbs\r\n}\r\n\r\nconst ingredientCalc = {\r\n  caloriesIn,\r\n  calcTotalCalOf,\r\n  calcTotalCarbsOf,\r\n  calcTotalFatOf,\r\n  calcTotalProteinOf\r\n}\r\n\r\nexport default ingredientCalc","import React from 'react'\r\nimport { useState } from 'react'\r\nimport { updateIngredientAmount, deleteIngredient } from '../reducers/activeRecipeReducer'\r\nimport { useDispatch } from 'react-redux'\r\nimport { Accordion, Box, AccordionSummary, AccordionDetails, Slider, Button, Typography, Stack } from '@mui/material'\r\nimport DeleteOutline from '@mui/icons-material/Delete'\r\n\r\n\r\nconst Ingredient = ({ ingredient, updateAmount }) => {\r\n  const dispatch = useDispatch()\r\n\r\n\r\n  // eslint-disable-next-line no-unused-vars\r\n\r\n  const [amount, setAmount] = useState(ingredient.amount)\r\n  const [sliderValue, setSliderValue] = useState(ingredient.amount)\r\n  const [sliderMinValue, setSliderMinValue] = useState(ingredient.amount - 50 < 0 ? 0 : ingredient.amount - 50)\r\n  const [sliderMaxValue, setSliderMaxValue] = useState(Number(ingredient.amount) + 50)\r\n\r\n  const increaseAmountByOne = () => {\r\n    const currentAmount = amount\r\n    setAmount(currentAmount + 1)\r\n    setSliderValue(currentAmount + 1)\r\n    dispatch(updateIngredientAmount(ingredient.id, currentAmount + 1))\r\n  }\r\n  const decreaseAmountByOne = () => {\r\n    if(amount > 0) {\r\n      const currentAmount = amount\r\n      setAmount(currentAmount - 1)\r\n      setSliderValue(currentAmount - 1)\r\n      dispatch(updateIngredientAmount(ingredient.id, currentAmount - 1))\r\n    }\r\n  }\r\n\r\n  const handleSliderAmount = (event) => {\r\n    setAmount(event.target.value)\r\n    setSliderValue(event.target.value)\r\n    if (event.target.value === sliderMinValue) {\r\n      setSliderMinValue(event.target.value - 10 < 0 ? 0 : event.target.value - 10)\r\n      setSliderMaxValue(sliderMinValue + 100)\r\n    } else if (event.target.value === sliderMaxValue) {\r\n      setSliderMaxValue(sliderMaxValue + 10)\r\n      setSliderMinValue(sliderMinValue + 10)\r\n    }\r\n\r\n    dispatch(updateIngredientAmount(ingredient.id, event.target.value))\r\n  }\r\n\r\n  const handleAmountUpdate = (value) => {\r\n    setAmount(value)\r\n    setSliderValue(value)\r\n    dispatch(updateIngredientAmount(ingredient.id, value))\r\n  }\r\n\r\n  const handleDeleteIngredient = () => {\r\n    //deleteIngredient(ingredient.id)\r\n    console.log('attempt to delete ingredient', ingredient)\r\n    dispatch(deleteIngredient(ingredient.id))\r\n  }\r\n\r\n  return (\r\n    <Accordion>\r\n      <AccordionSummary>\r\n        <Stack direction='row'  flexGrow={1} justifyContent='space-between'>\r\n          <Typography sx={{ display: 'inline-flex' }}>{ingredient.fooditem.name}</Typography>\r\n          <Typography sx={{ display: 'flex', color: 'text.secondary', }}>{ingredient.amount} {ingredient.amountUnit}</Typography>\r\n        </Stack>\r\n        {/*<td style={{ width: 100 }} onClick={() => setEditMode(!editMode)}>{ingredient.fooditem.name}</td>\r\n        <td><input value={amount} size='10' onChange={({ target }) => handleAmountUpdate(target.value)} />{ingredient.amountUnit}</td>\r\n        <td>\r\n          <button onClick={() => increaseAmountByOne()}>Increase</button>\r\n          <button onClick={() => decreaseAmountByOne()}>Decrease</button>\r\n          <input value={sliderValue} type='range' min='0' max='1000' onChange={handleSliderAmount}></input>\r\n          <button onClick={() => handleDeleteIngredient()}>Delete</button>\r\n        </td>\r\n      */}\r\n      </AccordionSummary>\r\n      <AccordionDetails>\r\n        <Box sx={{ ml: 2 }}>\r\n          <Stack direction='row' justifyContent='space-between' spacing={3}>\r\n            <Slider\r\n              marks={[\r\n                {\r\n                  value: sliderMinValue,\r\n                  label: `${sliderMinValue} ${ingredient.amountUnit}`\r\n                },\r\n                {\r\n                  value: sliderMaxValue,\r\n                  label: `${sliderMaxValue} ${ingredient.amountUnit}`\r\n                }\r\n              ]}\r\n              min={sliderMinValue}\r\n              max={sliderMaxValue}\r\n              value={sliderValue}\r\n              onChange={handleSliderAmount}\r\n            >\r\n            </Slider>\r\n            <Button variant='outlined' onClick={handleDeleteIngredient}><DeleteOutline /></Button>\r\n          </Stack>\r\n        </Box>\r\n      </AccordionDetails>\r\n    </Accordion>\r\n  )\r\n}\r\nexport default Ingredient","import React from 'react'\r\nimport { useEffect } from 'react'\r\nimport ingredientCalc from '../utils/ingredientCalc'\r\nimport Ingredient from './Ingredient'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { useParams, useHistory } from 'react-router'\r\nimport { setActiveRecipe } from '../reducers/activeRecipeReducer'\r\nimport recipeService from '../services/recipes'\r\nimport { Box, Typography, Button, Stack, Card, CardContent, Grid, Table, TableHead, TableBody, TableRow, TableCell, Input } from '@mui/material'\r\nimport SaveIcon from '@mui/icons-material/Save'\r\nimport CloudUploadIcon from '@mui/icons-material/CloudUpload'\r\nimport DeleteIcon from '@mui/icons-material/Delete'\r\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore'\r\nimport { useState } from 'react'\r\nimport IngredientForm from './IngredientForm'\r\n\r\nconst Recipe = () => {\r\n  const activeRecipe = useSelector(state => state.activeRecipe)\r\n  const fooditems = useSelector(state => state.fooditems)\r\n  const dispatch = useDispatch()\r\n  const history = useHistory()\r\n\r\n  const [servings, setServings] = useState(1)\r\n\r\n  let ingredients = null\r\n  const id = useParams().id\r\n  useEffect(() => {\r\n    //check if local saved recipe\r\n    const savedRecipeJSON = window.localStorage.getItem(`savedRecipe${id}`)\r\n    if (savedRecipeJSON) {\r\n      console.log('found save:', JSON.parse(savedRecipeJSON))\r\n      const decodedSave = JSON.parse(savedRecipeJSON)\r\n      console.log(decodedSave)\r\n      dispatch(setActiveRecipe(decodedSave.activeRecipe))\r\n      //ingredients = decodedSave.ingredients\r\n    } else {\r\n      //get from the backend\r\n      recipeService\r\n        .getRecipe(id)\r\n        .then(response => {\r\n          dispatch(setActiveRecipe(response.data))\r\n        })\r\n    }\r\n  }, [])\r\n\r\n  if(!activeRecipe) return <p>Waiting for activeRecipe to be set</p>\r\n  if(fooditems.length === 0) return <p>Waiting for foodItems</p>\r\n  console.log('Fooditems currently: ', fooditems)\r\n  if(!ingredients) {\r\n    ingredients = activeRecipe.ingredients.map(ingredient => {\r\n      const fooditem = fooditems.find(item => item.id === ingredient.fooditemId)\r\n      if(fooditem === undefined) {\r\n        console.log('Fooditem in recipe not found in fooditem list')\r\n        return {\r\n          fooditem:\r\n            {\r\n              name: '<Deleted fooditem>',\r\n              protein: 0,\r\n              fat: 0,\r\n              carbohydrate: 0,\r\n              id: 0\r\n            },\r\n          amount: 0,\r\n          amountUnit: 'g',\r\n          id: ingredient.id\r\n        }\r\n      }\r\n      else {\r\n        console.log('found fooditem' ,fooditem)\r\n        ingredient.fooditem = fooditem\r\n        return ingredient\r\n      }\r\n    })\r\n  }\r\n  console.log('ingredients:',ingredients)\r\n\r\n  const updateIngredientAmount = (ingredientId, amount) => {\r\n    console.log('Want to save these changes: ', ingredientId, amount)\r\n    //first find ingredient to update\r\n    //Need a callback to App.\r\n  }\r\n\r\n  const localSave = () => {\r\n    const saveObject = {\r\n      activeRecipe: activeRecipe,\r\n      ingredients: ingredients\r\n    }\r\n    console.log('saving following ingredients:', ingredients)\r\n    window.localStorage.setItem(`savedRecipe${id}`, JSON.stringify(saveObject))\r\n  }\r\n  const cancelAndReturn = () => {\r\n    window.localStorage.removeItem(`savedRecipe${id}`)\r\n    history.push('/')\r\n\r\n  }\r\n\r\n  const saveToBackend = async () => {\r\n    localSave()\r\n    const response = await recipeService.updateAllIngredients(activeRecipe, ingredients)\r\n    console.log('response return data', response.data)\r\n    dispatch(setActiveRecipe(response.data))\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Grid item xs={12}>\r\n        <Typography\r\n          variant='h4'\r\n          sx={{\r\n            m: 2\r\n          }}>\r\n          {activeRecipe.title}\r\n        </Typography>\r\n        <Stack direction='row' spacing={1}>\r\n          <Button variant='contained' startIcon={<CloudUploadIcon />} onClick={saveToBackend} >\r\n          Server\r\n          </Button>\r\n          <Button variant='outlined' startIcon={<SaveIcon />} onClick={localSave}>Local</Button>\r\n          <Button variant='outlined' startIcon={<DeleteIcon />} onClick={cancelAndReturn}>Discard changes</Button>\r\n\r\n        </Stack>\r\n      </Grid>\r\n      <Grid item xl={4} lg={4} md={6} sm={8} xs={12} >\r\n        <Card variant='outlined'\r\n          sx={{\r\n            gridRow: '1',\r\n            gridColumn: 'span 2',\r\n          }}>\r\n          <CardContent>\r\n            <Typography variant='h5'>Ingredients</Typography>\r\n\r\n          </CardContent>\r\n          <CardContent>\r\n            {ingredients.map((ingredient) =>\r\n              <Ingredient key={ingredient.id} ingredient={ingredient} updateAmount={updateIngredientAmount} />\r\n            )}\r\n          </CardContent>\r\n        </Card>\r\n      </Grid>\r\n      <IngredientForm />\r\n      <Grid item xl={4} lg={4} md={6} sm={8} xs={12} >\r\n        <Card variant='outlined'\r\n          sx={{\r\n          }}\r\n        >\r\n          <CardContent>\r\n            <Typography variant='h5'>\r\n            Nutritional information\r\n            </Typography>\r\n            <Table>\r\n              <TableHead>\r\n                <TableRow>\r\n                  <TableCell>\r\n                  X\r\n                  </TableCell>\r\n                  <TableCell>\r\n                  Total\r\n                  </TableCell>\r\n                  <TableCell>\r\n                  Per serving\r\n                  </TableCell>\r\n                </TableRow>\r\n              </TableHead>\r\n              <TableBody>\r\n                <TableRow>\r\n                  <TableCell>\r\n                  Calories\r\n                  </TableCell>\r\n                  <TableCell>\r\n                    {ingredientCalc.calcTotalCalOf(ingredients)}\r\n                  </TableCell>\r\n                  <TableCell>\r\n                    {(ingredientCalc.calcTotalCalOf(ingredients) / servings).toFixed(0)} kcal\r\n                  </TableCell>\r\n                </TableRow>\r\n                <TableRow>\r\n                  <TableCell>\r\n                  Carbs\r\n                  </TableCell>\r\n                  <TableCell>\r\n                    {ingredientCalc.calcTotalCarbsOf(ingredients)}\r\n                  </TableCell>\r\n                  <TableCell>\r\n                    {(ingredientCalc.calcTotalCarbsOf(ingredients) / servings).toFixed(0)} g\r\n                  </TableCell>\r\n                </TableRow>\r\n                <TableRow>\r\n                  <TableCell>\r\n                  Fat\r\n                  </TableCell>\r\n                  <TableCell>\r\n                    {ingredientCalc.calcTotalFatOf(ingredients)}\r\n                  </TableCell>\r\n                  <TableCell>\r\n                    {(ingredientCalc.calcTotalFatOf(ingredients) / servings).toFixed(0)} g\r\n                  </TableCell>\r\n                </TableRow>\r\n                <TableRow>\r\n                  <TableCell>\r\n                  Protein\r\n                  </TableCell>\r\n                  <TableCell>\r\n                    {ingredientCalc.calcTotalProteinOf(ingredients)} g\r\n                  </TableCell>\r\n                  <TableCell>\r\n                    {(ingredientCalc.calcTotalProteinOf(ingredients) / servings).toFixed(0)} g\r\n                  </TableCell>\r\n                </TableRow>\r\n              </TableBody>\r\n            </Table>\r\n            <Typography variant='body1'>\r\n              Number of servings: {' '}\r\n              <Input value={servings} onChange={(event) => setServings(event.target.value)}\r\n                inputProps={{\r\n                  step: 1,\r\n                  min: 1,\r\n                  max: 100,\r\n                  type: 'number'\r\n                }}\r\n                sx={{\r\n                  maxWidth: 42\r\n                }}\r\n              />\r\n            </Typography>\r\n\r\n          </CardContent>\r\n        </Card>\r\n      </Grid>\r\n    </>\r\n  )\r\n\r\n}\r\n\r\nexport default Recipe","import React from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { deleteFooditem } from '../reducers/fooditemReducer'\r\nimport { createNotification } from '../reducers/notificationReducer'\r\nimport { Card, CardContent, Table, TableBody, TableCell, TableHead, TableRow, Typography, Grid, Button } from '@mui/material'\r\nimport DeleteIcon from '@mui/icons-material/DeleteForeverOutlined'\r\n\r\nconst FooditemList = () => {\r\n  const fooditemList = useSelector(state => state.fooditems)\r\n  // eslint-disable-next-line no-unused-vars\r\n  const dispatch = useDispatch()\r\n\r\n  const handleDelete = async (id) => {\r\n    const returnvalue = await dispatch(deleteFooditem(id))\r\n    if(returnvalue) {\r\n      console.log('received error: ', returnvalue.response.data.error)\r\n      dispatch(createNotification(returnvalue.message + ' - ' + returnvalue.response.data.error, 'error'))\r\n    } else {\r\n      console.log('retrnvalue null, success!')\r\n    }\r\n\r\n\r\n\r\n  }\r\n\r\n  return (\r\n    <Grid container spacing={2} flexWrap='wrap' justifyContent='flex-start' >\r\n      <Grid item xl={6} lg={8} md={10} sm={12}>\r\n        <Typography variant='h4' sx={{ m: 2 }}>Fooditems</Typography>\r\n        <Card>\r\n          <CardContent>\r\n            <Table>\r\n              <TableHead>\r\n                <TableRow>\r\n                  <TableCell>\r\n                Name\r\n                  </TableCell>\r\n                  <TableCell>\r\n              Protein\r\n                  </TableCell>\r\n                  <TableCell>\r\n                Carbs\r\n                  </TableCell>\r\n                  <TableCell>\r\n                Fat\r\n                  </TableCell>\r\n                  <TableCell>\r\n                Actions\r\n                  </TableCell>\r\n                </TableRow>\r\n              </TableHead>\r\n              <TableBody>\r\n                {fooditemList.map(fooditem =>\r\n                  <TableRow key={fooditem.id}>\r\n                    <TableCell>{fooditem.name}</TableCell>\r\n                    <TableCell>{fooditem.protein}</TableCell>\r\n                    <TableCell>{fooditem.carbohydrate}</TableCell>\r\n                    <TableCell>{fooditem.fat}</TableCell>\r\n                    <TableCell><Button variant='outlined' onClick={() => handleDelete(fooditem.id)}><DeleteIcon /></Button></TableCell>\r\n                  </TableRow>\r\n                )}\r\n              </TableBody>\r\n            </Table>\r\n          </CardContent>\r\n        </Card>\r\n      </Grid>\r\n    </Grid>\r\n  )\r\n}\r\n\r\nexport default FooditemList","import axios from 'axios'\r\nconst baseUrl = '/api/login'\r\n\r\nconst loginUser = async (userdata) => {\r\n  //returns token or error\r\n  const response = await axios.post(baseUrl, userdata)\r\n  return response.data\r\n\r\n}\r\n\r\nconst loginService = {\r\n  loginUser\r\n}\r\n\r\nexport default loginService","export const setLoggedInUser = (userdata) => {\r\n  return {\r\n    type: 'SET_ACTIVE_USER',\r\n    //data: 'Test user'\r\n    data: userdata\r\n  }\r\n}\r\n\r\nexport const clearLoggedInUser = () => {\r\n  return {\r\n    type: 'CLEAR_ACTIVE_USER'\r\n  }\r\n}\r\n\r\nconst loggedInUserReducer = ( state = null, action) => {\r\n  switch (action.type){\r\n  case 'SET_ACTIVE_USER':\r\n    return action.data\r\n  case 'CLEAR_ACTIVE_USER':\r\n    return null\r\n  default:\r\n    return state\r\n  }\r\n\r\n}\r\n\r\nexport default loggedInUserReducer","import React from 'react'\r\n//import useState from 'react'\r\nimport { Form, Button } from 'react-bootstrap'\r\nimport loginService from '../services/login'\r\nimport { useDispatch } from 'react-redux'\r\nimport { setLoggedInUser } from '../reducers/loggedInUserReducer'\r\nimport fooditemService from '../services/fooditem'\r\nimport recipeService from '../services/recipes'\r\n\r\n\r\nconst LoginForm = ({ hideLoginField }) => {\r\n  const dispatch = useDispatch()\r\n  // eslint-disable-next-line no-unused-vars\r\n  //const [username, setUsername] = useState('')\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault()\r\n\r\n    try {\r\n      console.log('user', event.target.formUsername.value)\r\n      console.log('pw', event.target.formPassword.value)\r\n      const userdata = {\r\n        username: event.target.formUsername.value,\r\n        password: event.target.formPassword.value\r\n      }\r\n      const receivedTokenAndUserdata = await loginService.loginUser(userdata)\r\n      console.log('token', receivedTokenAndUserdata)\r\n      dispatch(setLoggedInUser(receivedTokenAndUserdata))\r\n      window.localStorage.setItem('MatappSavedLocalUser', JSON.stringify(receivedTokenAndUserdata))\r\n      fooditemService.setToken(receivedTokenAndUserdata.token)\r\n      recipeService.setToken(receivedTokenAndUserdata.token)\r\n      hideLoginField()\r\n    } catch (error) {\r\n      console.log(error)\r\n    }\r\n\r\n    console.log('submitted!')\r\n\r\n  }\r\n\r\n  return(\r\n    <Form onSubmit={handleSubmit}>\r\n      <Form.Group className='mb-3' controlId='formUsername'>\r\n        <Form.Label>Username</Form.Label>\r\n        <Form.Control\r\n          type='text'\r\n          placeholder='enter username'\r\n        />\r\n      </Form.Group>\r\n      <Form.Group className='mb-3' controlId='formPassword'>\r\n        <Form.Label>Password</Form.Label>\r\n        <Form.Control\r\n          type='password'\r\n          placeholder='password'\r\n        />\r\n      </Form.Group>\r\n      <Button variant='primary' type='submit'>login</Button>\r\n    </Form>\r\n  )\r\n\r\n\r\n}\r\n\r\nexport default LoginForm","import { Alert  } from '@mui/material'\r\nimport React from 'react'\r\nimport { useSelector } from 'react-redux'\r\n\r\nconst Notifications = () => {\r\n  const notification = useSelector(state => state.notification)\r\n  if(notification)\r\n    return (\r\n      <Alert\r\n        severity='warning'>{notification.messageText}</Alert>\r\n    )\r\n  else return null\r\n}\r\n\r\nexport default Notifications","import React from 'react'\r\nimport { useState } from 'react'\r\nimport { AppBar, Toolbar, IconButton, Button, Menu, MenuItem, Tooltip, Card, CardContent, CardActionArea, CardActions, Popover } from '@mui/material'\r\nimport MenuIcon from '@mui/icons-material/Menu'\r\nimport AccountCircle from '@mui/icons-material/AccountCircle'\r\nimport { Typography } from '@mui/material'\r\nimport AdbIcon from '@mui/icons-material/Adb'\r\nimport { Box } from '@mui/material'\r\nimport { Link as RouterLink, MemoryRouter } from 'react-router-dom'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { TextField } from '@mui/material'\r\nimport loginService from '../services/login'\r\nimport { setLoggedInUser } from '../reducers/loggedInUserReducer'\r\nimport fooditemService from '../services/fooditem'\r\nimport recipeService from '../services/recipes'\r\n\r\nexport default function HeaderBar({ logout, showLogin }) {\r\n\r\n  const [anchorElementUser, setAnchorElementUser] = useState(null)\r\n  const [anchorElementNavigation, setAnchorElementNavigation] = useState(null)\r\n  const [anchorElementLogin, setAnchorElementLogin] = useState(null)\r\n  const loggedInUser = useSelector(state => state.loggedInUser)\r\n  const [username, setUsername] = useState('')\r\n  const [password, setPassword] = useState('')\r\n\r\n  const dispatch = useDispatch()\r\n\r\n  const handleUserMenu = (event) => {\r\n    console.log(event.currentTarget)\r\n    setAnchorElementUser(event.currentTarget)\r\n  }\r\n\r\n  const handleOpenNavigationMenu = (event) => {\r\n    setAnchorElementNavigation(event.currentTarget)\r\n  }\r\n\r\n  const handleOpenLoginMenu = (event) => {\r\n    setAnchorElementLogin(event.currentTarget)\r\n  }\r\n\r\n  const handleClose = () => {\r\n    setAnchorElementUser(null)\r\n\r\n  }\r\n\r\n  const handleCloseLoginMenu = () => {\r\n    setAnchorElementLogin(null)\r\n    setUsername('')\r\n    setPassword('')\r\n  }\r\n\r\n  const handleCloseNavigationMenu = () => {\r\n    setAnchorElementNavigation(null)\r\n  }\r\n\r\n  const handleLogout = () => {\r\n    logout()\r\n    setAnchorElementUser(null)\r\n  }\r\n\r\n  const handleLogin = async (event) => {\r\n    event.preventDefault()\r\n    console.log(username)\r\n    console.log(password)\r\n    // if successful login, handleCloseLoginMenu()\r\n\r\n\r\n    try {\r\n\r\n      const userdata = {\r\n        username,\r\n        password\r\n      }\r\n      const receivedTokenAndUserdata = await loginService.loginUser(userdata)\r\n      console.log('token', receivedTokenAndUserdata)\r\n      dispatch(setLoggedInUser(receivedTokenAndUserdata))\r\n      window.localStorage.setItem('MatappSavedLocalUser', JSON.stringify(receivedTokenAndUserdata))\r\n      fooditemService.setToken(receivedTokenAndUserdata.token)\r\n      recipeService.setToken(receivedTokenAndUserdata.token)\r\n    } catch (error) {\r\n      console.log(error)\r\n    }\r\n\r\n    console.log('submitted!')\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <AppBar position=\"static\">\r\n        <Toolbar>\r\n          <AdbIcon sx={{ display: { xs: 'none', md: 'flex' }, mr: 1 }} />\r\n          <Typography\r\n            variant='h6'\r\n            noWrap\r\n            component='div'\r\n            sx={{\r\n              mr: 2,\r\n              display: { xs: 'none', md: 'flex' },\r\n              color: 'inherit'\r\n            }}\r\n          >\r\n            RECIPES\r\n          </Typography>\r\n          <Box sx={{ flexgrow: 1, display: { xs: 'flex', md: 'none' } }}>\r\n            <IconButton\r\n              size=\"medium\"\r\n              edge=\"start\"\r\n              color=\"inherit\"\r\n              aria-label=\"menu\"\r\n              onClick={handleOpenNavigationMenu}\r\n              sx={{ mr: 2 }}\r\n            >\r\n              <MenuIcon />\r\n            </IconButton>\r\n            <Menu\r\n              id='menu-navigation'\r\n              anchorEl={anchorElementNavigation}\r\n              anchorOrigin={{\r\n                vertical: 'top',\r\n                horizontal: 'left'\r\n              }}\r\n              keepMounted\r\n              transformOrigin={{\r\n                vertical: 'top',\r\n                horizontal: 'left'\r\n              }}\r\n              open={Boolean(anchorElementNavigation)}\r\n              onClose={handleCloseNavigationMenu}\r\n              sx={{\r\n                display: { xs: 'block', md: 'none' }\r\n              }}\r\n            >\r\n              <MenuItem onClick={handleCloseNavigationMenu}>\r\n                <Typography\r\n                  textAlign='center'\r\n                  component={RouterLink}\r\n                  to='/'\r\n                  color='inherit'\r\n                  textDecoration='none'\r\n                >\r\n                  Home\r\n                </Typography>\r\n              </MenuItem>\r\n              <MenuItem onClick={handleCloseNavigationMenu}>\r\n                <Typography\r\n                  textAlign='center'\r\n                  component={RouterLink}\r\n                  to='/fooditems/'\r\n                  color='inherit'\r\n                  textDecoration='none'\r\n                >\r\n                  Fooditems\r\n                </Typography>\r\n              </MenuItem>\r\n            </Menu>\r\n          </Box>\r\n          <AdbIcon sx={{ display: { xs: 'flex', md: 'none' }, mr: 1 }} />\r\n          <Typography\r\n            variant='h6'\r\n            noWrap\r\n            component='div'\r\n            href='/'\r\n            sx={{\r\n              mr: 2,\r\n              display: { xs: 'flex', md: 'none' },\r\n              flexGrow: 1,\r\n              color: 'inherit',\r\n              textDecoration: 'none'\r\n            }}\r\n          >\r\n            RECIPES\r\n          </Typography>\r\n          <Box sx={{ flexGrow: 1, display: { xs: 'none', md: 'flex' } }}>\r\n            <Button\r\n              onClick={handleCloseNavigationMenu}\r\n              component={RouterLink}\r\n              to='/'\r\n              sx={{ my: 2, color: 'inherit', display: 'block' }}\r\n            >\r\n              Home\r\n            </Button>\r\n            <Button\r\n              onClick={handleCloseNavigationMenu}\r\n              component={RouterLink}\r\n              to='/fooditems/'\r\n              sx={{ my: 2, color: 'inherit', display: 'block' }}\r\n            >\r\n              Fooditems\r\n            </Button>\r\n          </Box>\r\n          <Box sx={{ flexGrow: 1 }} />\r\n\r\n          {loggedInUser ?\r\n            <Box sx={{ display: { xs: 'flex', md: 'flex' } }}>\r\n              <Typography\r\n                variant=\"subtitle1\"\r\n                noWrap\r\n                sx={{\r\n                  mr: 2,\r\n                  display: { xs: 'none', md: 'flex' },\r\n                  alignItems: 'center',\r\n                  color: 'inherit',\r\n                  textDecoration: 'none'\r\n                }}\r\n              >\r\n                {loggedInUser.username}\r\n              </Typography>\r\n              <Tooltip title=\"Open user menu\">\r\n                <IconButton\r\n                  size=\"large\"\r\n                  onClick={handleUserMenu}\r\n                  aria-label=\"test menu\"\r\n                  aria-controls=\"menu-appbar\"\r\n                  aria-haspopup=\"true\"\r\n                  color=\"inherit\"\r\n                >\r\n\r\n                  <AccountCircle />\r\n                </IconButton>\r\n              </Tooltip>\r\n              <Menu\r\n                id=\"menu-appbar\"\r\n                anchorEl={anchorElementUser}\r\n                anchorOrigin={{\r\n                  vertical: 'top',\r\n                  horizontal: 'right'\r\n                }}\r\n                transformOrigin={{\r\n                  vertical: 'top',\r\n                  horizontal: 'right',\r\n                }}\r\n                keepMounted\r\n                open={Boolean(anchorElementUser)}\r\n                onClose={handleClose}\r\n              >\r\n                <MenuItem onClick={handleLogout}>Logout</MenuItem>\r\n                <MenuItem onClick={handleClose}>Test2</MenuItem>\r\n              </Menu>\r\n            </Box> :\r\n            <Box>\r\n              <Button\r\n                variant=\"RouterLink\"\r\n                noWrap\r\n                //onClick={() => showLogin(true)}\r\n                onClick={handleOpenLoginMenu}\r\n                sx={{\r\n                  mr: 2,\r\n                  display: { xs: 'none', md: 'flex' },\r\n                  alignItems: 'center',\r\n                  color: 'inherit',\r\n                  textDecoration: 'none'\r\n                }}>\r\n                Login\r\n              </Button>\r\n              <Popover\r\n                component=\"form\"\r\n                onSubmit={handleLogin}\r\n                id='login-menu'\r\n                open={Boolean(anchorElementLogin)}\r\n                anchorEl={anchorElementLogin}\r\n                onClose={handleCloseLoginMenu}\r\n                anchorOrigin={{\r\n                  vertical: 'bottom',\r\n                  horizontal: 'left',\r\n                }}\r\n              >\r\n                <Box\r\n                  sx={{\r\n                    alignContent: 'right'\r\n                  }}>\r\n                  <Typography\r\n                    variant='h6'\r\n                    sx={{\r\n                      color: 'inherit',\r\n                      p: 2,\r\n                    }}\r\n                  >\r\n                  Login\r\n                  </Typography>\r\n                </Box>\r\n                <Box\r\n                  sx={{\r\n                    px: 2,\r\n                    py: 1\r\n                  }}>\r\n                  <TextField value={username} onChange={( event ) => setUsername(event.target.value)} controlId=\"formUsername\" id=\"username\" label=\"username\" variant=\"filled\" /><br />\r\n                </Box>\r\n                <Box\r\n                  sx={{\r\n                    px: 2,\r\n                    py: 1\r\n                  }}\r\n                >\r\n                  <TextField value={password} onChange={( event ) => setPassword(event.target.value)} id=\"password\" label=\"password\" variant=\"filled\" type=\"password\" />\r\n                </Box>\r\n                <Box\r\n                  sx={{\r\n                    p:2\r\n                  }}>\r\n                  <Button\r\n                    onClick={handleCloseLoginMenu}\r\n                    variant='contained'\r\n                  >\r\n                  Close\r\n                  </Button>\r\n                  {' '}\r\n                  <Button\r\n                    variant='contained'\r\n                    onClick={handleLogin}\r\n                    type='submit'\r\n                  >\r\n                  Login\r\n                  </Button>\r\n                </Box>\r\n              </Popover>\r\n            </Box>\r\n          }\r\n\r\n\r\n        </Toolbar>\r\n      </AppBar>\r\n    </div>\r\n  )\r\n}","/* eslint-disable no-unused-vars */\r\nimport React from 'react'\r\nimport FooditemForm from './components/FooditemForm'\r\nimport IngredientForm from './components/IngredientForm'\r\nimport RecipeList from './components/RecipeList'\r\nimport Recipe from './components/Recipe'\r\nimport FooditemList from './components/FooditemList'\r\nimport LoginForm from './components/LoginForm'\r\nimport Notifications from './components/Notifications'\r\nimport { useEffect, useState } from 'react'\r\nimport recipeService from './services/recipes'\r\nimport fooditemService from './services/fooditem'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { initRecipes } from './reducers/recipeReducer'\r\nimport { initFooditems } from './reducers/fooditemReducer'\r\nimport { Switch, Route, Link, Redirect, useRouteMatch, useHistory } from 'react-router-dom'\r\nimport { setLoggedInUser, clearLoggedInUser } from './reducers/loggedInUserReducer'\r\nimport { AppBar, Toolbar, IconButton, Container, Typography, Box, Menu, MenuItem, Grid } from '@mui/material'\r\nimport MenuIcon from '@mui/icons-material/Menu'\r\nimport AccountCircle from '@mui/icons-material/AccountCircle'\r\nimport HeaderBar from './components/HeaderBar'\r\nimport { ThemeProvider } from '@mui/material'\r\nimport { createTheme } from '@mui/material'\r\n\r\nfunction App() {\r\n  const fooditems = useSelector(state => state.fooditems)\r\n  const activeRecipe = useSelector(state => state.activeRecipe)\r\n  const loggedInUser = useSelector(state => state.loggedInUser)\r\n  const dispatch = useDispatch()\r\n\r\n  const [showLoginForm, setShowLoginForm] = useState(false)\r\n\r\n  const logout = () => {\r\n    console.log('logout!')\r\n    window.localStorage.removeItem('MatappSavedLocalUser')\r\n    dispatch(clearLoggedInUser())\r\n    fooditemService.setToken(null)\r\n    recipeService.setToken(null)\r\n  }\r\n\r\n  useEffect(() => {\r\n    const savedUserJSON = window.localStorage.getItem('MatappSavedLocalUser')\r\n    if(savedUserJSON) {\r\n      const savedUser = JSON.parse(savedUserJSON)\r\n      dispatch(setLoggedInUser(savedUser))\r\n      recipeService.setToken(savedUser.token)\r\n      fooditemService.setToken(savedUser.token)\r\n    }\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    recipeService\r\n      .getAll()\r\n      .then(response => {\r\n        dispatch(initRecipes(response.data))\r\n      })\r\n  }, [dispatch])\r\n\r\n  useEffect(() => {\r\n    fooditemService\r\n      .getAll()\r\n      .then(response => {\r\n        dispatch(initFooditems(response.data))\r\n      })\r\n  }, [dispatch])\r\n\r\n  const theme = createTheme({\r\n    palette: {\r\n      primary: {\r\n        light: '#4c8c4a',\r\n        main: '#1a8145',\r\n        dark: '#003300',\r\n        contrastText: '#ffffff'\r\n      },\r\n      secondary: {\r\n        light: '#8d4887',\r\n        main: '#5e1b5a',\r\n        dark: '#320030',\r\n        contrastText: '#ffffff'\r\n      },\r\n    }\r\n  })\r\n\r\n  return (\r\n    <div>\r\n      <ThemeProvider theme={theme}>\r\n        <HeaderBar logout={logout} showLogin={setShowLoginForm} />\r\n        <Notifications />\r\n        {showLoginForm ?\r\n          <LoginForm hideLoginField={() => setShowLoginForm(false)}/> :\r\n          <></>\r\n        }\r\n        <Switch>\r\n          <Route path='/recipe/:id'>\r\n            <Grid container spacing={2} flexWrap='wrap' justifyContent='flex-start' >\r\n              <Recipe  />\r\n              <FooditemForm />\r\n            </Grid>\r\n          </Route>\r\n          <Route path='/recipe/'>\r\n            <RecipeList />\r\n          </Route>\r\n          <Route path='/fooditems/'>\r\n            <div className='column'>\r\n              <FooditemList />\r\n              <FooditemForm />\r\n            </div>\r\n          </Route>\r\n          <Route path='/'>\r\n            <RecipeList />\r\n          </Route>\r\n        </Switch>\r\n      </ThemeProvider>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App\r\n","import { createStore, combineReducers, applyMiddleware } from 'redux'\r\nimport { composeWithDevTools } from 'redux-devtools-extension'\r\nimport thunk from 'redux-thunk'\r\n\r\nimport fooditemReducer from './reducers/fooditemReducer'\r\nimport recipeReducer from './reducers/recipeReducer'\r\nimport activeRecipeReducer from './reducers/activeRecipeReducer'\r\nimport loggedInUserReducer from './reducers/loggedInUserReducer'\r\nimport notificationReducer from './reducers/notificationReducer'\r\nimport timerReducer from './reducers/timerReducer'\r\n\r\nconst reducer = combineReducers({\r\n  fooditems: fooditemReducer,\r\n  recipes: recipeReducer,\r\n  activeRecipe: activeRecipeReducer,\r\n  loggedInUser: loggedInUserReducer,\r\n  notification: notificationReducer,\r\n  timer: timerReducer\r\n})\r\n\r\nconst store = createStore(\r\n  reducer,\r\n  composeWithDevTools(applyMiddleware(thunk))\r\n)\r\n\r\nexport default store\r\n\r\n\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './App'\r\nimport { Provider } from 'react-redux'\r\nimport store from './store'\r\nimport { BrowserRouter as Router } from 'react-router-dom'\r\n\r\nReactDOM.render(\r\n  <Router>\r\n    <Provider store={store} >\r\n      <App />\r\n    </Provider>\r\n  </Router>,\r\n  document.getElementById('root')\r\n)\r\n"],"sourceRoot":""}