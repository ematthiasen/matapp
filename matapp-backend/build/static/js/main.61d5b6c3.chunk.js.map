{"version":3,"sources":["services/fooditem.js","reducers/fooditemReducer.js","reducers/timerReducer.js","reducers/notificationReducer.js","components/FooditemForm.js","reducers/activeRecipeReducer.js","services/recipes.js","reducers/recipeReducer.js","components/RecipeListItem.js","components/RecipeList.js","utils/ingredientCalc.js","components/Ingredient.js","components/IngredientForm.js","components/Recipe.js","components/FooditemList.js","components/Notifications.js","reducers/loggedInUserReducer.js","services/login.js","components/HeaderBar.js","App.js","store.js","index.js"],"names":["baseUrl","token","createFooditem","newFooditem","a","config","headers","Authorization","console","log","axios","post","result","deleteFooditem","id","delete","response","fooditemService","setToken","newToken","getAll","get","updateFooditem","changedFooditem","put","addFooditem","fooditem","dispatch","createdItem","data","type","error","fooditemId","deletedItem","fooditemReducer","state","action","concat","newState","filter","item","setTimeoutHandle","timeoutHandle","timerReducer","window","clearTimeout","createNotification","messageText","messageType","timeout","setNotification","setTimeout","clearNotification","notificationReducer","FooditemForm","useDispatch","handleAddFoodItem","event","preventDefault","target","food","value","foodItem","name","protein","fat","carbohydrate","carb","returnValue","carbs","Grid","xl","lg","md","sm","xs","Card","variant","CardContent","Typography","onSubmit","Stack","direction","spacing","TextField","label","inputProps","inputMode","pattern","Button","setActiveRecipe","recipe","updateIngredientAmount","ingredientId","newAmount","activeRecipeReducer","newIngredient","ingredientsArray","ingredients","ingredientToUpdate","find","ingredient","updatedIngredient","amount","newIngredientList","map","newIngredientsArray","recipeService","getRecipe","createRecipe","newRecipe","updateRecipe","changedRecipe","deleteRecipe","recipeToDelete","addIngredientToRecipe","updateIngredientInRecipe","deleteIngredientFromRecipe","updateAllIngredients","ingredientsList","addRecipe","recipeReducer","selectedRecipe","RecipeListItem","handleCloneRecipe","handleShowRecipe","handleDeleteRecipe","useState","visibleDeleteField","setVisibleDeleteField","anchorElConfirmDialog","setAnchorElConfirmDialog","handleCloseDeleteConfirmation","TableRow","sx","border","TableCell","component","scope","title","date","align","size","ButtonGroup","onClick","template","IconButton","disabled","color","currentTarget","Popover","open","Boolean","anchorEl","onClose","anchorOrigin","vertical","horizontal","Box","alignContent","p","RecipeList","recipes","useSelector","history","useHistory","push","recipeWithoutId","Date","toLocaleDateString","status","TableContainer","Paper","Table","minWidth","TableHead","TableBody","ingredientCalc","caloriesIn","calcTotalCalOf","reduce","totalCal","calcTotalCarbsOf","totalCarbs","calcTotalFatOf","totalFat","calcTotalProteinOf","totalProtein","Ingredient","updateAmount","setAmount","sliderValue","setSliderValue","sliderMinValue","setSliderMinValue","Number","sliderMaxValue","setSliderMaxValue","Accordion","AccordionSummary","flexGrow","justifyContent","display","amountUnit","AccordionDetails","ml","Slider","marks","min","max","onChange","IngredientForm","fooditems","fooditemObject","setFooditemObject","autocompleteOptions","Math","floor","random","alert","FormControl","Autocomplete","disablePortal","options","e","obj","renderInput","params","Select","MenuItem","Recipe","activeRecipe","servings","setServings","editTitle","setEditTitle","titleField","setTitleField","useParams","useEffect","savedRecipeJSON","localStorage","getItem","JSON","parse","decodedSave","then","length","CircularProgress","undefined","localSave","saveObject","setItem","stringify","saveToBackend","saveRecipeTitle","updateData","OutlinedInput","style","fontSize","endAdornment","InputAdornment","position","m","startIcon","removeItem","gridRow","gridColumn","toFixed","Input","step","maxWidth","FooditemList","fooditemList","handleDelete","returnvalue","message","container","flexWrap","Notifications","notification","Alert","severity","setLoggedInUser","userdata","loggedInUserReducer","loginUser","loginService","HeaderBar","logout","anchorElementUser","setAnchorElementUser","anchorElementNavigation","setAnchorElementNavigation","anchorElementLogin","setAnchorElementLogin","loggedInUser","username","setUsername","password","setPassword","setAlert","handleClose","handleCloseLoginMenu","handleCloseNavigationMenu","handleLogin","receivedTokenAndUserdata","handleGuestLogin","AppBar","Toolbar","mr","noWrap","flexgrow","edge","Menu","keepMounted","transformOrigin","textAlign","RouterLink","to","textDecoration","href","my","alignItems","Tooltip","px","py","fullWidth","controlId","App","savedUserJSON","savedUser","theme","createTheme","palette","primary","light","main","dark","contrastText","secondary","ThemeProvider","path","className","reducer","combineReducers","timer","store","createStore","composeWithDevTools","applyMiddleware","thunk","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.61d5b6c3.chunk.js","sourcesContent":["import axios from 'axios'\r\n//const baseUrl = 'http://localhost:3003/api/fooditems'\r\nconst baseUrl = '/api/fooditems'\r\nlet token = null\r\n\r\nconst setToken = (newToken) => {\r\n  token = `bearer ${newToken}`\r\n  console.log('token set:', token)\r\n}\r\n\r\nconst getAll = () => {\r\n  console.log('getting all?')\r\n  return axios.get(baseUrl)\r\n}\r\n\r\nconst createFooditem = async (newFooditem) => {\r\n  const config = {\r\n    headers: { Authorization: token }\r\n  }\r\n  console.log('config:', config)\r\n  const result = await axios.post(baseUrl, newFooditem, config)\r\n  return result\r\n}\r\n\r\nconst updateFooditem = (id, changedFooditem) => {\r\n  return axios.put(`${baseUrl}/${id}`, changedFooditem)\r\n}\r\n\r\nconst deleteFooditem = async (id) => {\r\n  const config = {\r\n    headers: { Authorization: token }\r\n  }\r\n  console.log('config:', config)\r\n  const response = await axios.delete(`${baseUrl}/${id}`, config)\r\n  return response\r\n}\r\n\r\nconst fooditemService = {\r\n  setToken,\r\n  getAll,\r\n  createFooditem,\r\n  updateFooditem,\r\n  deleteFooditem\r\n\r\n}\r\n\r\nexport default fooditemService\r\n","import fooditemService from '../services/fooditem'\r\n\r\nexport const initFooditems = (fooditemList) => {\r\n  return {\r\n    type: 'INIT_FOODITEMS',\r\n    data: fooditemList\r\n  }\r\n}\r\n\r\nexport const addFooditem = (fooditem) => {\r\n  return async dispatch => {\r\n    try {\r\n      const createdItem = await fooditemService.createFooditem(fooditem)\r\n      console.log('DB created fooditem: ', createdItem.data)\r\n      await dispatch({\r\n        type: 'ADD_FOODITEM',\r\n        data: createdItem.data\r\n      })\r\n      return null\r\n    }\r\n    catch (error) {\r\n      console.log('testing', error.response.data.error)\r\n      return error\r\n    }\r\n  }\r\n}\r\n\r\nexport const createFooditem = (fooditem) => {\r\n  return {\r\n    type: 'ADD_FOODITEM',\r\n    data: fooditem\r\n  }\r\n}\r\n\r\nexport const deleteFooditem = (fooditemId) => {\r\n  return async dispatch => {\r\n    try{\r\n      const deletedItem = await fooditemService.deleteFooditem(fooditemId)\r\n      console.log('Deleted:', deletedItem)\r\n      await dispatch({\r\n        type: 'DELETE_FOODITEM',\r\n        data: fooditemId\r\n      })\r\n      return null\r\n    }\r\n    catch (error) {\r\n      return error\r\n    }\r\n\r\n  }\r\n}\r\n\r\nconst fooditemReducer = (state = [], action) => {\r\n  switch (action.type){\r\n  case 'INIT_FOODITEMS':\r\n    return action.data\r\n  case 'ADD_FOODITEM':\r\n    return state.concat(action.data)\r\n  case 'DELETE_FOODITEM': {\r\n    const newState = state.filter(item => item.id !== action.data)\r\n    return newState\r\n  }\r\n  default:\r\n    return state\r\n  }\r\n}\r\n\r\nexport default fooditemReducer\r\n","export const setTimeoutHandle = (timeoutHandle) => {\r\n  return {\r\n    type: 'SET_TIMER',\r\n    data: {\r\n      timeoutHandle\r\n    }\r\n  }\r\n}\r\n\r\nconst timerReducer = (state = null, action) => {\r\n  switch (action.type) {\r\n  case 'SET_TIMER': {\r\n    window.clearTimeout(state)\r\n    return action.data.timeoutHandle\r\n  }\r\n  case 'CLEAR_TIMER':\r\n    clearTimeout(state)\r\n    return null\r\n  default:\r\n    return state\r\n  }\r\n}\r\n\r\nexport default timerReducer","import { setTimeoutHandle } from './timerReducer'\r\n\r\nexport const createNotification = (messageText, messageType, timeout = 5000) => {\r\n  console.log('creating notification!')\r\n  return async dispatch => {\r\n    await dispatch(setNotification(messageText, messageType))\r\n    await dispatch(setTimeoutHandle(setTimeout( () => {\r\n      dispatch(clearNotification())\r\n    }, timeout )))\r\n  }\r\n}\r\n\r\nconst setNotification = (messageText, messageType) => {\r\n  return {\r\n    type: 'SET_NOTIFICATION',\r\n    data: {\r\n      messageText,\r\n      messageType,\r\n    }\r\n  }\r\n}\r\n\r\nconst clearNotification = () => {\r\n  console.log('clearing!')\r\n  return {\r\n    type: 'CLEAR_NOTIFICATION'\r\n  }\r\n}\r\n\r\n\r\nconst notificationReducer = (state = null, action) => {\r\n  switch (action.type) {\r\n  case 'SET_NOTIFICATION':\r\n    return action.data\r\n  case 'CLEAR_NOTIFICATION':\r\n    return null\r\n  default:\r\n    return state\r\n  }\r\n}\r\n\r\nexport default notificationReducer","import { Button, Card, CardContent, Grid, Stack, TextField, Typography } from '@mui/material'\r\nimport React from 'react'\r\nimport { useDispatch } from 'react-redux'\r\n//import foodItemService from '../services/foodItem'\r\nimport { addFooditem, createFooditem } from '../reducers/fooditemReducer'\r\nimport { createNotification } from '../reducers/notificationReducer'\r\nimport fooditemService from '../services/fooditem'\r\n\r\n/*\r\nfoodItem: {\r\n  name: String,\r\n  protein: Number,\r\n  fat: Number,\r\n  carbohydrate: Number,\r\n  id: String (generated by db)\r\n}\r\n*/\r\nconst FooditemForm = () => {\r\n  const dispatch = useDispatch()\r\n\r\n  const handleAddFoodItem = async (event) => {\r\n    event.preventDefault()\r\n    console.log('Adding food item', event.target.food.value)\r\n\r\n    const foodItem = {\r\n      name: event.target.food.value,\r\n      protein: event.target.protein.value,\r\n      fat: event.target.fat.value,\r\n      carbohydrate: event.target.carb.value\r\n    }\r\n    const returnValue = await dispatch(addFooditem(foodItem))\r\n    if (returnValue != null) {\r\n      //reducer encountered an error and returned it\r\n      //console.log('Error creating fooditem:', returnValue.response.data.error)\r\n      dispatch(createNotification(returnValue.response.data.error))\r\n      //@TODO: Add to error notification window\r\n    } else {\r\n      //zero out form\r\n      event.target.food.value = ''\r\n      event.target.carbs.value = ''\r\n      event.target.protein.value = ''\r\n      event.target.fat.value = ''\r\n    }\r\n\r\n  }\r\n  return (\r\n    <Grid item xl={4} lg={4} md={6} sm={8} xs={12} >\r\n      <Card variant='outlined'>\r\n        <CardContent>\r\n          <Typography variant='h5'>\r\n              Create fooditem\r\n          </Typography>\r\n          <form onSubmit={handleAddFoodItem}>\r\n            <Stack direction='column' spacing={1} >\r\n              <TextField name='food' id='food-name' variant='outlined' label='Food name' />\r\n              <TextField name='carb' inputProps={{ inputMode: 'numeric', pattern: '([0-9]+\\\\[.,]?[0-9]*|\\\\[.,][0-9]+)' }} id='carbs' variant='outlined' label='Carbohydrates (per 100g)' />\r\n              <TextField name='fat' inputProps={{ inputMode: 'numeric', pattern: '([0-9]+\\\\[.,]?[0-9]*|\\\\[.,][0-9]+)' }} id='fat' variant='outlined' label='Fat (per 100g)' />\r\n              <TextField name='protein' inputProps={{ inputMode: 'numeric', pattern: '([0-9]+\\\\[.,]?[0-9]*|\\\\[.,][0-9]+)' }} id='protein' variant='outlined' label='Protein (per 100g)' />\r\n              <Button variant='contained' type='submit'>Create</Button>\r\n            </Stack>\r\n          </form>\r\n        </CardContent>\r\n      </Card>\r\n    </Grid>\r\n  )\r\n}\r\n\r\nexport default FooditemForm\r\n","const generateId = () => {\r\n  return Math.floor(Math.random() * 10000)\r\n}\r\n\r\n\r\nexport const setActiveRecipe = (recipe) => {\r\n  //Recieve a whole recipe.\r\n  return {\r\n    type: 'SET_RECIPE',\r\n    data: recipe\r\n  }\r\n}\r\n\r\nexport const addIngredientToRecipe = (ingredient) => {\r\n  console.log('Ingredient: ', ingredient)\r\n  return {\r\n    type: 'ADD_INGREDIENT',\r\n    data: {\r\n      ...ingredient,\r\n      id: generateId()\r\n    }\r\n  }\r\n}\r\n\r\nexport const updateIngredientAmount = (ingredientId, newAmount) => {\r\n  return {\r\n    type: 'UPDATE_INGREDIENT_AMOUNT',\r\n    data: {\r\n      ingredientId,\r\n      newAmount\r\n    }\r\n  }\r\n}\r\n\r\nexport const deleteIngredient = (ingredientId) => {\r\n  return {\r\n    type: 'DELETE_INGREDIENT',\r\n    data: {\r\n      ingredientId\r\n    }\r\n  }\r\n}\r\n\r\n\r\nconst activeRecipeReducer = (state = null, action) => {\r\n  switch (action.type) {\r\n  case 'SET_RECIPE':{\r\n    return action.data\r\n  }\r\n  case 'ADD_INGREDIENT':{\r\n    const newIngredient = action.data\r\n    const ingredientsArray = state.ingredients.concat(newIngredient)\r\n    return { ...state, ingredients: ingredientsArray }\r\n  }\r\n  case 'UPDATE_INGREDIENT_AMOUNT': {\r\n    const ingredientToUpdate = state.ingredients.find((ingredient) => ingredient.id === action.data.ingredientId)\r\n    const updatedIngredient = {\r\n      ...ingredientToUpdate,\r\n      amount: action.data.newAmount\r\n    }\r\n    const newIngredientList = state.ingredients.map((ingredient) => ingredient.id !== updatedIngredient.id ? ingredient : updatedIngredient)\r\n    //console.log('New state:', { ...state, ingredients: newIngredientList } )\r\n    return { ...state, ingredients: newIngredientList }\r\n  }\r\n  case 'DELETE_INGREDIENT': {\r\n    const newIngredientsArray = state.ingredients.filter(ingredient => ingredient.id !== action.data.ingredientId)\r\n    return { ...state, ingredients: newIngredientsArray }\r\n  }\r\n  default:\r\n    return state\r\n  }\r\n}\r\n\r\nexport default activeRecipeReducer","import axios from 'axios'\r\n//const baseUrl = 'http://localhost:3003/api/recipes'\r\nconst baseUrl = '/api/recipes'\r\nlet token = null\r\n\r\nconst setToken = (newToken) => {\r\n  token = `bearer ${newToken}`\r\n  console.log('token set:', token)\r\n}\r\n\r\nconst getAll = () => {\r\n  return axios.get(baseUrl)\r\n}\r\n\r\nconst getRecipe = (id) => {\r\n  console.log('getting local recipe')\r\n  return axios.get(`${baseUrl}/${id}`)\r\n}\r\n\r\nconst createRecipe = (newRecipe) => {\r\n  const config = {\r\n    headers: { Authorization: token }\r\n  }\r\n\r\n  return axios.post(baseUrl, newRecipe, config)\r\n}\r\n\r\nconst updateRecipe = (changedRecipe) => {\r\n  const config = {\r\n    headers: { Authorization: token }\r\n  }\r\n\r\n  return axios.put(`${baseUrl}/${changedRecipe.id}`, changedRecipe, config)\r\n}\r\n\r\nconst deleteRecipe = (recipeToDelete) => {\r\n  const config = {\r\n    headers: { Authorization: token }\r\n  }\r\n  return axios.delete(`${baseUrl}/${recipeToDelete.id}`, config)\r\n}\r\n\r\nconst addIngredientToRecipe = (recipe, ingredient) => {\r\n  const config = {\r\n    headers: { Authorization: token }\r\n  }\r\n  return axios.post(`${baseUrl}/${recipe.id}/ingredients`, ingredient, config)\r\n\r\n}\r\n\r\nconst updateAllIngredients = (recipe, ingredientsList) => {\r\n  const config = {\r\n    headers: { Authorization: token }\r\n  }\r\n  return axios.put(`${baseUrl}/${recipe.id}/ingredients`, ingredientsList, config)\r\n}\r\n\r\nconst updateIngredientInRecipe = (recipe, ingredient) => {\r\n  const config = {\r\n    headers: { Authorization: token }\r\n  }\r\n  return axios.put(`${baseUrl}/${recipe.id}/ingredients/${ingredient.id}`, ingredient, config)\r\n}\r\n\r\nconst deleteIngredientFromRecipe = (recipe, ingredientId) => {\r\n  console.log('we deleting now boys!')\r\n  const config = {\r\n    headers: { Authorization: token }\r\n  }\r\n  return axios.delete(`${baseUrl}/${recipe.id}/ingredients/${ingredientId}`, config)\r\n}\r\n\r\n\r\nconst recipeService = {\r\n  getAll,\r\n  getRecipe,\r\n  createRecipe,\r\n  updateRecipe,\r\n  deleteRecipe,\r\n  setToken,\r\n  addIngredientToRecipe,\r\n  updateIngredientInRecipe,\r\n  deleteIngredientFromRecipe,\r\n  updateAllIngredients\r\n}\r\n\r\nexport default recipeService","//NO async with thunk yet\r\n//import recipeService from '../services/recipes'\r\n\r\nexport const initRecipes = (recipeList) => {\r\n\r\n  return {\r\n    type: 'INIT_RECIPES',\r\n    data: recipeList\r\n  }\r\n}\r\n\r\nexport const updateRecipe = (recipe) => {\r\n  return {\r\n    type: 'UPDATE_RECIPE',\r\n    data: recipe\r\n  }\r\n}\r\n\r\nexport const addRecipe = (recipe) => {\r\n  return {\r\n    type: 'ADD_RECIPE',\r\n    data: recipe\r\n  }\r\n}\r\n\r\nexport const deleteRecipe = (recipe) => {\r\n  return {\r\n    type: 'DELETE_RECIPE',\r\n    data: recipe\r\n  }\r\n}\r\n\r\nconst recipeReducer = (state = [], action) => {\r\n  switch (action.type) {\r\n  case 'INIT_RECIPES':\r\n    return action.data\r\n  case 'ADD_RECIPE':\r\n    return state.concat(action.data)\r\n  case 'UPDATE_RECIPE':{\r\n    const selectedRecipe = state.find(recipe => recipe.id === action.data.id)\r\n    console.log('Updated recipe ', selectedRecipe )\r\n    return state.map(recipe => recipe.id !== action.data.id ? recipe : action.data)\r\n  }\r\n  case 'DELETE_RECIPE': {\r\n    const newState = state.filter(recipe => recipe.id !== action.data.id)\r\n    return newState\r\n  }\r\n  default:\r\n    return state\r\n  }\r\n}\r\n\r\nexport default recipeReducer","import React from 'react'\r\nimport { useState } from 'react'\r\nimport TableRow from '@mui/material/TableRow'\r\nimport TableCell from '@mui/material/TableCell'\r\nimport { Box, Button, ButtonGroup, IconButton, Popover, Typography } from '@mui/material'\r\nimport DeleteIcon from '@mui/icons-material/Delete'\r\n\r\n\r\nconst RecipeListItem = ({ recipe, handleCloneRecipe, handleShowRecipe, handleDeleteRecipe }) => {\r\n\r\n  const [ visibleDeleteField, setVisibleDeleteField ] = useState(false)\r\n  const [ anchorElConfirmDialog, setAnchorElConfirmDialog] = useState(null)\r\n\r\n  const handleOpenDeleteConfirmation = (event) => {\r\n    setAnchorElConfirmDialog(event.currentTarget)\r\n\r\n  }\r\n  const handleCloseDeleteConfirmation = () => {\r\n    setAnchorElConfirmDialog(null)\r\n  }\r\n\r\n  const handleDeleteRecipeClicked = () => {\r\n    setAnchorElConfirmDialog(null)\r\n    handleDeleteRecipe(recipe)\r\n  }\r\n\r\n  return(\r\n    <TableRow key={recipe.id} sx={{ '&:last-child td, &:last-child th': { border: 0 } }}>\r\n      <TableCell component=\"th\" scope=\"row\">{recipe.title}</TableCell>\r\n      <TableCell>{recipe.date}</TableCell>\r\n      <TableCell align='right' size='small'>\r\n        <ButtonGroup><Button variant='contained' onClick={() => handleCloneRecipe(recipe) }>Copy</Button>\r\n          {recipe.template ?\r\n            <>\r\n              <Button variant='outlined'>Edit</Button>\r\n              <IconButton aria-label=\"delete\" disabled>\r\n                <DeleteIcon />\r\n              </IconButton>\r\n            </>\r\n            :\r\n            <>\r\n              <Button variant='contained' onClick={() => handleShowRecipe(recipe)}>Edit</Button>\r\n              <IconButton aria-label=\"delete\" color=\"primary\" onClick={handleOpenDeleteConfirmation}>\r\n                <DeleteIcon />\r\n              </IconButton>\r\n              <Popover\r\n                component=\"div\"\r\n                id='confirm-dialog'\r\n                open={Boolean(anchorElConfirmDialog)}\r\n                anchorEl={anchorElConfirmDialog}\r\n                onClose={handleCloseDeleteConfirmation}\r\n                anchorOrigin={{\r\n                  vertical: 'bottom',\r\n                  horizontal: 'left',\r\n                }}\r\n              >\r\n                <Box\r\n                  sx={{\r\n                    alignContent: 'right',\r\n                    p: 1\r\n\r\n                  }}\r\n                >\r\n                  <Typography\r\n                    variant='body1'\r\n                    sx={{\r\n                      color: 'inherit',\r\n                      p: 2\r\n                    }}\r\n                  >\r\n                  Really delete?\r\n                  </Typography>\r\n                  <ButtonGroup>\r\n                    <Button\r\n                      variant='contained'\r\n                      color='warning'\r\n                      onClick={handleDeleteRecipeClicked}\r\n                    >\r\n                    Yes\r\n                    </Button>\r\n                    <Button\r\n                      variant='outlined'\r\n                      onClick={handleCloseDeleteConfirmation}\r\n                    >\r\n                      Cancel\r\n                    </Button>\r\n                  </ButtonGroup>\r\n\r\n                </Box>\r\n              </Popover>\r\n            </>\r\n          }\r\n        </ButtonGroup>\r\n      </TableCell>\r\n      <br/>\r\n      {visibleDeleteField ?\r\n        <Box>Really delete?<button onClick={() => handleDeleteRecipe(recipe)}>Yes</button><button onClick={() => setVisibleDeleteField(false)}>No</button> </Box> :\r\n        <></>\r\n      }\r\n    </TableRow>\r\n  )\r\n}\r\n\r\nexport default RecipeListItem","import React from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { setActiveRecipe } from '../reducers/activeRecipeReducer'\r\nimport { useHistory } from 'react-router'\r\nimport recipeService from '../services/recipes'\r\nimport { addRecipe, deleteRecipe } from '../reducers/recipeReducer'\r\nimport RecipeListItem from './RecipeListItem'\r\nimport { Table, TableBody, TableHead, TableContainer, TableCell, TableRow } from '@mui/material'\r\nimport Paper from '@mui/material/Paper'\r\nimport { createNotification } from '../reducers/notificationReducer'\r\n\r\n\r\nconst RecipeList = () => {\r\n  const recipes = useSelector(state => state.recipes)\r\n  const dispatch = useDispatch()\r\n  const history = useHistory()\r\n\r\n  const handleShowRecipe = (recipe) => {\r\n    console.log('handled show recipe')\r\n    dispatch(setActiveRecipe(recipe))\r\n    history.push(`/recipe/${recipe.id}`)\r\n  }\r\n\r\n  const handleCloneRecipe = async (recipe) => {\r\n\r\n    let { id, ...recipeWithoutId } = recipe\r\n    console.log('WithoutID?', recipeWithoutId)\r\n    recipeWithoutId = { ...recipeWithoutId, template: false }\r\n\r\n    const today = (new Date()).toLocaleDateString('no-no')\r\n    //Handle naming in backend\r\n    //recipeWithoutId.title = `${recipeWithoutId.title} - ${today}`\r\n    console.log(recipeWithoutId.name)\r\n    try {\r\n      const response = await recipeService.createRecipe(recipeWithoutId)\r\n      dispatch(addRecipe(response.data))\r\n      history.push(`/recipe/${response.data.id}`)\r\n    } catch (error) {\r\n      console.log('Failed to clone recipe')\r\n    }\r\n  }\r\n\r\n  const handleDeleteRecipe = async (recipe) => {\r\n    console.log('Delete clicked for recipe: ', recipe.id )\r\n    try {\r\n      const response = await recipeService.deleteRecipe(recipe)\r\n      console.log('deleted recipe', response)\r\n      dispatch(deleteRecipe(recipe))\r\n      dispatch(createNotification('Recipe deleted'))\r\n    } catch (error) {\r\n      if (error.response.status === 401)\r\n        dispatch(createNotification('Could not delete recipe: Not authorized'))\r\n      else\r\n        dispatch(createNotification(error.response.data.error))\r\n    }\r\n  }\r\n\r\n  return(\r\n    <TableContainer component={Paper}>\r\n      <Table sx={{ minWidth: 650 }} aria-label=\"simple table\">\r\n        <TableHead>\r\n          <TableRow>\r\n            <TableCell>\r\n              Name\r\n            </TableCell>\r\n            <TableCell>\r\n              Date created\r\n            </TableCell>\r\n          </TableRow>\r\n        </TableHead>\r\n        <TableBody>\r\n          {recipes.map((recipe) =>\r\n            <RecipeListItem key={recipe.id}\r\n              recipe={recipe}\r\n              handleCloneRecipe={handleCloneRecipe}\r\n              handleShowRecipe={handleShowRecipe}\r\n              handleDeleteRecipe={handleDeleteRecipe}\r\n            />\r\n          )}\r\n        </TableBody>\r\n      </Table>\r\n    </TableContainer>\r\n  )\r\n}\r\n\r\nexport default RecipeList","const caloriesIn = (ingredient) => {\r\n  //console.log('IngredientCalc - ingredient:', ingredient)\r\n  const calInFat = 9\r\n  const calInProtein = 4\r\n  const calInCarb = 4\r\n  const calPer100 = calInFat * ingredient.fooditem.fat + calInProtein * ingredient.fooditem.protein + calInCarb * ingredient.fooditem.carbohydrate\r\n  const totalCal = calPer100 * ingredient.amount / 100\r\n  return totalCal\r\n}\r\n\r\nconst calcTotalCalOf = (ingredients) => {\r\n  const totalCal = ingredients.reduce((totalCal, ingredient) => {\r\n    return totalCal + ingredientCalc.caloriesIn(ingredient)\r\n  }, 0)\r\n  return totalCal\r\n}\r\n\r\nconst calcTotalFatOf = (ingredients) => {\r\n  const totalFat = ingredients.reduce((totalFat, ingredient) => {\r\n    return totalFat + ingredient.fooditem.fat * ingredient.amount / 100\r\n  }, 0)\r\n  return totalFat\r\n}\r\n\r\nconst calcTotalProteinOf = (ingredients) => {\r\n  const totalProtein = ingredients.reduce((totalProtein, ingredient) => {\r\n    return totalProtein + ingredient.fooditem.protein * ingredient.amount / 100\r\n  }, 0)\r\n  return totalProtein\r\n}\r\n\r\nconst calcTotalCarbsOf = (ingredients) => {\r\n  const totalCarbs = ingredients.reduce((totalCarbs, ingredient) => {\r\n    return totalCarbs + ingredient.fooditem.carbohydrate * ingredient.amount / 100\r\n  }, 0)\r\n  return totalCarbs\r\n}\r\n\r\nconst ingredientCalc = {\r\n  caloriesIn,\r\n  calcTotalCalOf,\r\n  calcTotalCarbsOf,\r\n  calcTotalFatOf,\r\n  calcTotalProteinOf\r\n}\r\n\r\nexport default ingredientCalc","import React from 'react'\r\nimport { useState } from 'react'\r\nimport { updateIngredientAmount, deleteIngredient } from '../reducers/activeRecipeReducer'\r\nimport { useDispatch } from 'react-redux'\r\nimport { Accordion, Box, AccordionSummary, AccordionDetails, Slider, Button, Typography, Stack } from '@mui/material'\r\nimport DeleteOutline from '@mui/icons-material/Delete'\r\n\r\n\r\nconst Ingredient = ({ ingredient, updateAmount }) => {\r\n  const dispatch = useDispatch()\r\n\r\n\r\n  // eslint-disable-next-line no-unused-vars\r\n\r\n  const [amount, setAmount] = useState(ingredient.amount)\r\n  const [sliderValue, setSliderValue] = useState(ingredient.amount)\r\n  const [sliderMinValue, setSliderMinValue] = useState(ingredient.amount - 50 < 0 ? 0 : ingredient.amount - 50)\r\n  const [sliderMaxValue, setSliderMaxValue] = useState(Number(ingredient.amount) + 50)\r\n\r\n  const increaseAmountByOne = () => {\r\n    const currentAmount = amount\r\n    setAmount(currentAmount + 1)\r\n    setSliderValue(currentAmount + 1)\r\n    dispatch(updateIngredientAmount(ingredient.id, currentAmount + 1))\r\n  }\r\n  const decreaseAmountByOne = () => {\r\n    if(amount > 0) {\r\n      const currentAmount = amount\r\n      setAmount(currentAmount - 1)\r\n      setSliderValue(currentAmount - 1)\r\n      dispatch(updateIngredientAmount(ingredient.id, currentAmount - 1))\r\n    }\r\n  }\r\n\r\n  const handleSliderAmount = (event) => {\r\n    setAmount(event.target.value)\r\n    setSliderValue(event.target.value)\r\n    if (event.target.value === sliderMinValue) {\r\n      setSliderMinValue(event.target.value - 10 < 0 ? 0 : event.target.value - 10)\r\n      setSliderMaxValue(sliderMinValue + 100)\r\n    } else if (event.target.value === sliderMaxValue) {\r\n      setSliderMaxValue(sliderMaxValue + 10)\r\n      setSliderMinValue(sliderMinValue + 10)\r\n    }\r\n\r\n    dispatch(updateIngredientAmount(ingredient.id, event.target.value))\r\n  }\r\n\r\n  const handleAmountUpdate = (value) => {\r\n    setAmount(value)\r\n    setSliderValue(value)\r\n    dispatch(updateIngredientAmount(ingredient.id, value))\r\n  }\r\n\r\n  const handleDeleteIngredient = () => {\r\n    //deleteIngredient(ingredient.id)\r\n    console.log('attempt to delete ingredient', ingredient)\r\n    dispatch(deleteIngredient(ingredient.id))\r\n  }\r\n\r\n  return (\r\n    <Accordion>\r\n      <AccordionSummary>\r\n        <Stack direction='row'  flexGrow={1} justifyContent='space-between'>\r\n          <Typography sx={{ display: 'inline-flex' }}>{ingredient.fooditem.name}</Typography>\r\n          <Typography sx={{ display: 'flex', color: 'text.secondary', }}>{ingredient.amount} {ingredient.amountUnit}</Typography>\r\n        </Stack>\r\n        {/*<td style={{ width: 100 }} onClick={() => setEditMode(!editMode)}>{ingredient.fooditem.name}</td>\r\n        <td><input value={amount} size='10' onChange={({ target }) => handleAmountUpdate(target.value)} />{ingredient.amountUnit}</td>\r\n        <td>\r\n          <button onClick={() => increaseAmountByOne()}>Increase</button>\r\n          <button onClick={() => decreaseAmountByOne()}>Decrease</button>\r\n          <input value={sliderValue} type='range' min='0' max='1000' onChange={handleSliderAmount}></input>\r\n          <button onClick={() => handleDeleteIngredient()}>Delete</button>\r\n        </td>\r\n      */}\r\n      </AccordionSummary>\r\n      <AccordionDetails>\r\n        <Box sx={{ ml: 2 }}>\r\n          <Stack direction='row' justifyContent='space-between' spacing={3}>\r\n            <Slider\r\n              marks={[\r\n                {\r\n                  value: sliderMinValue,\r\n                  label: `${sliderMinValue} ${ingredient.amountUnit}`\r\n                },\r\n                {\r\n                  value: sliderMaxValue,\r\n                  label: `${sliderMaxValue} ${ingredient.amountUnit}`\r\n                }\r\n              ]}\r\n              min={sliderMinValue}\r\n              max={sliderMaxValue}\r\n              value={sliderValue}\r\n              onChange={handleSliderAmount}\r\n            >\r\n            </Slider>\r\n            <Button variant='outlined' onClick={handleDeleteIngredient}><DeleteOutline /></Button>\r\n          </Stack>\r\n        </Box>\r\n      </AccordionDetails>\r\n    </Accordion>\r\n  )\r\n}\r\nexport default Ingredient","import { Autocomplete, Card, CardContent, Grid, Typography, TextField, Stack, FormControl, Select, MenuItem, Button } from '@mui/material'\r\nimport React, { useState } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { addIngredientToRecipe } from '../reducers/activeRecipeReducer'\r\n\r\nconst IngredientForm = () => {\r\n  const fooditems = useSelector(state => state.fooditems)\r\n  const dispatch = useDispatch()\r\n\r\n  const [fooditemObject, setFooditemObject] = useState(null)\r\n\r\n  //GOing to need access to food Items\r\n  //and callback function to create Ingredient\r\n\r\n  //@TODO: Needs update for using Autocomplete component\r\n  const addIngredient = (event) => {\r\n    event.preventDefault()\r\n    if(!event.target.fooditem.value) {window.alert('Please select a food from the menu')\r\n      return\r\n    }\r\n    console.log('fooditem', fooditemObject)\r\n    console.log('amount', event.target.amount.value)\r\n    console.log('amountUnit', event.target.amountUnit.value)\r\n\r\n    //setErrorNotification\r\n    //console.log('fooditem: ', event.target.fooditem.value)\r\n    const newIngredient = {\r\n      fooditemId: fooditemObject.id,\r\n      amount: event.target.amount.value,\r\n      amountUnit: event.target.amountUnit.value,\r\n    }\r\n    event.target.amount.value = ''\r\n    event.target.amountUnit.value = 'g'\r\n    console.log('new ingredient', newIngredient)\r\n\r\n    dispatch(addIngredientToRecipe(newIngredient))\r\n  }\r\n  const options = fooditems.map((fooditem) => {\r\n    return { value: fooditem.id, label: fooditem.name }\r\n  })\r\n  const autocompleteOptions = fooditems.map( (fooditem) => {\r\n    return { label: fooditem.name, id: fooditem.id }\r\n  })\r\n\r\n\r\n  return (\r\n    <>\r\n      <Grid item xl={4} lg={4} md={6} sm={8} xs={12} >\r\n        <Card variant='outlined'>\r\n          <CardContent>\r\n            <Typography variant='h5'>\r\n          Add Ingredient\r\n            </Typography>\r\n            <form onSubmit={addIngredient}>\r\n              <FormControl>\r\n\r\n                <Autocomplete\r\n                  disablePortal\r\n                  id='fooditemAutocomplete'\r\n                  options={autocompleteOptions}\r\n                  onChange={ (e, obj) => setFooditemObject(obj)}\r\n                  renderInput={ (params) => <TextField {...params} name='fooditem' />}\r\n                />\r\n                <TextField id='amount' label='amount' type='number' />\r\n                <Select name='amountUnit'>\r\n                  <MenuItem value='g'>gram (g)</MenuItem>\r\n                  <MenuItem value='ml'>milliliter (ml)</MenuItem>\r\n                  <MenuItem value='tbsp'>tablespoon (tbsp)</MenuItem>\r\n                  <MenuItem value='tsp'>teaspoon (tsp)</MenuItem>\r\n                </Select>\r\n                <Button type='submit' variant='contained'>Add</Button>\r\n              </FormControl>\r\n            </form>\r\n          </CardContent>\r\n\r\n        </Card>\r\n      </Grid>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default IngredientForm","import React from 'react'\r\nimport { useEffect } from 'react'\r\nimport ingredientCalc from '../utils/ingredientCalc'\r\nimport Ingredient from './Ingredient'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { useParams, useHistory } from 'react-router'\r\nimport { setActiveRecipe } from '../reducers/activeRecipeReducer'\r\nimport recipeService from '../services/recipes'\r\nimport { Box, Typography, Button, Stack, Card, CardContent, Grid, Table, TableHead, TableBody, TableRow, TableCell, Input, TextField, InputAdornment, OutlinedInput, CircularProgress } from '@mui/material'\r\nimport SaveIcon from '@mui/icons-material/Save'\r\nimport CloudUploadIcon from '@mui/icons-material/CloudUpload'\r\nimport DeleteIcon from '@mui/icons-material/Delete'\r\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore'\r\nimport { useState } from 'react'\r\nimport IngredientForm from './IngredientForm'\r\nimport EditIcon from '@mui/icons-material/EditOutlined'\r\nimport { createNotification } from '../reducers/notificationReducer'\r\nimport { updateRecipe } from '../reducers/recipeReducer'\r\nimport CancelIcon from '@mui/icons-material/CancelOutlined'\r\n\r\nconst Recipe = () => {\r\n  const activeRecipe = useSelector(state => state.activeRecipe)\r\n  const fooditems = useSelector(state => state.fooditems)\r\n  const dispatch = useDispatch()\r\n  const history = useHistory()\r\n\r\n  const [servings, setServings] = useState(1)\r\n\r\n  const [editTitle, setEditTitle] = useState(false)\r\n  const [titleField, setTitleField] = useState('')\r\n\r\n  let ingredients = null\r\n  const id = useParams().id\r\n  useEffect(() => {\r\n    //check if local saved recipe\r\n    const savedRecipeJSON = window.localStorage.getItem(`savedRecipe${id}`)\r\n    if (savedRecipeJSON) {\r\n      console.log('found save:', JSON.parse(savedRecipeJSON))\r\n      const decodedSave = JSON.parse(savedRecipeJSON)\r\n      console.log(decodedSave)\r\n      dispatch(setActiveRecipe(decodedSave.activeRecipe))\r\n      setTitleField(decodedSave.activeRecipe.title)\r\n      //ingredients = decodedSave.ingredients\r\n    } else {\r\n      //get from the backend\r\n      recipeService\r\n        .getRecipe(id)\r\n        .then(response => {\r\n          dispatch(setActiveRecipe(response.data))\r\n          setTitleField(response.data.title)\r\n        })\r\n    }\r\n  }, [])\r\n\r\n  if(!activeRecipe) return <p>Waiting for activeRecipe to be set</p>\r\n  if(fooditems.length === 0) return <Grid item xs={12}><CircularProgress /></Grid>\r\n  console.log('Fooditems currently: ', fooditems)\r\n  if(!ingredients) {\r\n    ingredients = activeRecipe.ingredients.map(ingredient => {\r\n      const fooditem = fooditems.find(item => item.id === ingredient.fooditemId)\r\n      if(fooditem === undefined) {\r\n        console.log('Fooditem in recipe not found in fooditem list')\r\n        return {\r\n          fooditem:\r\n            {\r\n              name: '<Deleted fooditem>',\r\n              protein: 0,\r\n              fat: 0,\r\n              carbohydrate: 0,\r\n              id: 0\r\n            },\r\n          amount: 0,\r\n          amountUnit: 'g',\r\n          id: ingredient.id\r\n        }\r\n      }\r\n      else {\r\n        //console.log('found fooditem' ,fooditem)\r\n        ingredient.fooditem = fooditem\r\n        return ingredient\r\n      }\r\n    })\r\n  }\r\n  console.log('ingredients:',ingredients)\r\n\r\n  const updateIngredientAmount = (ingredientId, amount) => {\r\n    console.log('Want to save these changes: ', ingredientId, amount)\r\n    //first find ingredient to update\r\n    //Need a callback to App.\r\n  }\r\n\r\n  const localSave = () => {\r\n    const saveObject = {\r\n      activeRecipe: activeRecipe,\r\n      ingredients: ingredients\r\n    }\r\n    console.log('saving following ingredients:', ingredients)\r\n    window.localStorage.setItem(`savedRecipe${id}`, JSON.stringify(saveObject))\r\n  }\r\n  const cancelAndReturn = () => {\r\n    window.localStorage.removeItem(`savedRecipe${id}`)\r\n    history.push('/')\r\n\r\n  }\r\n\r\n  const saveToBackend = async () => {\r\n    localSave()\r\n    const response = await recipeService.updateAllIngredients(activeRecipe, ingredients)\r\n    console.log('response return data', response.data)\r\n    dispatch(setActiveRecipe(response.data))\r\n  }\r\n\r\n  const saveRecipeTitle = async (event) => {\r\n    event.preventDefault()\r\n    console.log(event.target.title.value)\r\n    //activeRecipe.title = event.target.title.value\r\n\r\n    const updateData = {\r\n      id: activeRecipe.id,\r\n      title: titleField\r\n    }\r\n    //attempt save to server.\r\n    //If duplicate title, show error notification, and do not leave edit mode\r\n    try {\r\n      const response = await recipeService.updateRecipe(updateData)\r\n\r\n      //Ignore ingredient data from response, keep local values.\r\n      //Update the local recipedata\r\n      //Save updated recipe locally, in active recipe and in the recipe list\r\n      console.log('received title', response.data.title)\r\n      activeRecipe.title = response.data.title\r\n      setTitleField(activeRecipe.title)\r\n      localSave()\r\n      dispatch(setActiveRecipe(activeRecipe))\r\n      dispatch(updateRecipe(activeRecipe))\r\n      setEditTitle(false)\r\n    } catch (error) {\r\n      dispatch(createNotification(error.response.data.error))\r\n      console.log(error)\r\n      console.log(error.response.data.error)\r\n    }\r\n  }\r\n\r\n  const cancelTitleEdit = () => {\r\n    setTitleField(activeRecipe.title)\r\n    setEditTitle(false)\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Grid item xs={12}>\r\n        {editTitle ?\r\n          <form onSubmit={saveRecipeTitle}>\r\n            <OutlinedInput\r\n              size='small'\r\n              id='recipe-title'\r\n              inputProps={{\r\n                style: { fontSize: 35 },\r\n              }}\r\n              value={titleField}\r\n              onChange={(event) => setTitleField(event.target.value)}\r\n              endAdornment={<InputAdornment position=\"end\"><Button type='submit'><SaveIcon /></Button><Button onClick={cancelTitleEdit}><CancelIcon /></Button></InputAdornment>}\r\n              name='title'\r\n            />\r\n          </form> :\r\n          <Typography\r\n            variant='h4'\r\n            sx={{\r\n              m: 2\r\n            }}>\r\n            {activeRecipe.title}\r\n            <Button onClick={() => setEditTitle(!editTitle)}><EditIcon /></Button>\r\n          </Typography>\r\n        }\r\n\r\n\r\n\r\n        <Stack direction='row' spacing={1}>\r\n          <Button variant='contained' startIcon={<CloudUploadIcon />} onClick={saveToBackend} >\r\n          Server\r\n          </Button>\r\n          <Button variant='outlined' startIcon={<SaveIcon />} onClick={localSave}>Local</Button>\r\n          <Button variant='outlined' startIcon={<DeleteIcon />} onClick={cancelAndReturn}>Discard changes</Button>\r\n\r\n        </Stack>\r\n      </Grid>\r\n      <Grid item xl={4} lg={4} md={6} sm={8} xs={12} >\r\n        <Card variant='outlined'\r\n          sx={{\r\n            gridRow: '1',\r\n            gridColumn: 'span 2',\r\n          }}>\r\n          <CardContent>\r\n            <Typography variant='h5'>Ingredients</Typography>\r\n\r\n          </CardContent>\r\n          <CardContent>\r\n            {ingredients.map((ingredient) =>\r\n              <Ingredient key={ingredient.id} ingredient={ingredient} updateAmount={updateIngredientAmount} />\r\n            )}\r\n          </CardContent>\r\n        </Card>\r\n      </Grid>\r\n      <IngredientForm />\r\n      <Grid item xl={4} lg={4} md={6} sm={8} xs={12} >\r\n        <Card variant='outlined'\r\n          sx={{\r\n          }}\r\n        >\r\n          <CardContent>\r\n            <Typography variant='h5'>\r\n            Nutritional information\r\n            </Typography>\r\n            <Table>\r\n              <TableHead>\r\n                <TableRow>\r\n                  <TableCell>\r\n                  X\r\n                  </TableCell>\r\n                  <TableCell>\r\n                  Total\r\n                  </TableCell>\r\n                  <TableCell>\r\n                  Per serving\r\n                  </TableCell>\r\n                </TableRow>\r\n              </TableHead>\r\n              <TableBody>\r\n                <TableRow>\r\n                  <TableCell>\r\n                  Calories\r\n                  </TableCell>\r\n                  <TableCell>\r\n                    {ingredientCalc.calcTotalCalOf(ingredients)}\r\n                  </TableCell>\r\n                  <TableCell>\r\n                    {(ingredientCalc.calcTotalCalOf(ingredients) / servings).toFixed(0)} kcal\r\n                  </TableCell>\r\n                </TableRow>\r\n                <TableRow>\r\n                  <TableCell>\r\n                  Carbs\r\n                  </TableCell>\r\n                  <TableCell>\r\n                    {ingredientCalc.calcTotalCarbsOf(ingredients)}\r\n                  </TableCell>\r\n                  <TableCell>\r\n                    {(ingredientCalc.calcTotalCarbsOf(ingredients) / servings).toFixed(0)} g\r\n                  </TableCell>\r\n                </TableRow>\r\n                <TableRow>\r\n                  <TableCell>\r\n                  Fat\r\n                  </TableCell>\r\n                  <TableCell>\r\n                    {ingredientCalc.calcTotalFatOf(ingredients)}\r\n                  </TableCell>\r\n                  <TableCell>\r\n                    {(ingredientCalc.calcTotalFatOf(ingredients) / servings).toFixed(0)} g\r\n                  </TableCell>\r\n                </TableRow>\r\n                <TableRow>\r\n                  <TableCell>\r\n                  Protein\r\n                  </TableCell>\r\n                  <TableCell>\r\n                    {ingredientCalc.calcTotalProteinOf(ingredients)} g\r\n                  </TableCell>\r\n                  <TableCell>\r\n                    {(ingredientCalc.calcTotalProteinOf(ingredients) / servings).toFixed(0)} g\r\n                  </TableCell>\r\n                </TableRow>\r\n              </TableBody>\r\n            </Table>\r\n            <Typography variant='body1'>\r\n              Number of servings: {' '}\r\n              <Input value={servings} onChange={(event) => setServings(event.target.value)}\r\n                inputProps={{\r\n                  step: 1,\r\n                  min: 1,\r\n                  max: 100,\r\n                  type: 'number'\r\n                }}\r\n                sx={{\r\n                  maxWidth: 42\r\n                }}\r\n              />\r\n            </Typography>\r\n\r\n          </CardContent>\r\n        </Card>\r\n      </Grid>\r\n    </>\r\n  )\r\n\r\n}\r\n\r\nexport default Recipe","import React from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { deleteFooditem } from '../reducers/fooditemReducer'\r\nimport { createNotification } from '../reducers/notificationReducer'\r\nimport { Card, CardContent, Table, TableBody, TableCell, TableHead, TableRow, Typography, Grid, Button } from '@mui/material'\r\nimport DeleteIcon from '@mui/icons-material/DeleteForeverOutlined'\r\n\r\nconst FooditemList = () => {\r\n  const fooditemList = useSelector(state => state.fooditems)\r\n  // eslint-disable-next-line no-unused-vars\r\n  const dispatch = useDispatch()\r\n\r\n  const handleDelete = async (id) => {\r\n    const returnvalue = await dispatch(deleteFooditem(id))\r\n    if(returnvalue) {\r\n      console.log('received error: ', returnvalue.response.data.error)\r\n      dispatch(createNotification(returnvalue.message + ' - ' + returnvalue.response.data.error, 'error'))\r\n    } else {\r\n      console.log('retrnvalue null, success!')\r\n    }\r\n\r\n\r\n\r\n  }\r\n\r\n  return (\r\n    <Grid container spacing={2} flexWrap='wrap' justifyContent='flex-start' >\r\n      <Grid item xl={6} lg={8} md={10} sm={12}>\r\n        <Typography variant='h4' sx={{ m: 2 }}>Fooditems</Typography>\r\n        <Card>\r\n          <CardContent>\r\n            <Table>\r\n              <TableHead>\r\n                <TableRow>\r\n                  <TableCell>\r\n                Name\r\n                  </TableCell>\r\n                  <TableCell>\r\n              Protein\r\n                  </TableCell>\r\n                  <TableCell>\r\n                Carbs\r\n                  </TableCell>\r\n                  <TableCell>\r\n                Fat\r\n                  </TableCell>\r\n                  <TableCell>\r\n                Actions\r\n                  </TableCell>\r\n                </TableRow>\r\n              </TableHead>\r\n              <TableBody>\r\n                {fooditemList.map(fooditem =>\r\n                  <TableRow key={fooditem.id}>\r\n                    <TableCell>{fooditem.name}</TableCell>\r\n                    <TableCell>{fooditem.protein}</TableCell>\r\n                    <TableCell>{fooditem.carbohydrate}</TableCell>\r\n                    <TableCell>{fooditem.fat}</TableCell>\r\n                    <TableCell><Button variant='outlined' onClick={() => handleDelete(fooditem.id)}><DeleteIcon /></Button></TableCell>\r\n                  </TableRow>\r\n                )}\r\n              </TableBody>\r\n            </Table>\r\n          </CardContent>\r\n        </Card>\r\n      </Grid>\r\n    </Grid>\r\n  )\r\n}\r\n\r\nexport default FooditemList","import { Alert  } from '@mui/material'\r\nimport React from 'react'\r\nimport { useSelector } from 'react-redux'\r\n\r\nconst Notifications = () => {\r\n  const notification = useSelector(state => state.notification)\r\n  if(notification)\r\n    return (\r\n      <Alert\r\n        severity='warning'>{notification.messageText}</Alert>\r\n    )\r\n  else return null\r\n}\r\n\r\nexport default Notifications","export const setLoggedInUser = (userdata) => {\r\n  return {\r\n    type: 'SET_ACTIVE_USER',\r\n    //data: 'Test user'\r\n    data: userdata\r\n  }\r\n}\r\n\r\nexport const clearLoggedInUser = () => {\r\n  return {\r\n    type: 'CLEAR_ACTIVE_USER'\r\n  }\r\n}\r\n\r\nconst loggedInUserReducer = ( state = null, action) => {\r\n  switch (action.type){\r\n  case 'SET_ACTIVE_USER':\r\n    return action.data\r\n  case 'CLEAR_ACTIVE_USER':\r\n    return null\r\n  default:\r\n    return state\r\n  }\r\n\r\n}\r\n\r\nexport default loggedInUserReducer","import axios from 'axios'\r\nconst baseUrl = '/api/login'\r\n\r\nconst loginUser = async (userdata) => {\r\n  //returns token or error\r\n  const response = await axios.post(baseUrl, userdata)\r\n  return response.data\r\n\r\n}\r\n\r\nconst loginService = {\r\n  loginUser\r\n}\r\n\r\nexport default loginService","import React from 'react'\r\nimport { useState } from 'react'\r\nimport { AppBar, Toolbar, IconButton, Button, Menu, MenuItem, Tooltip, Popover, Alert } from '@mui/material'\r\nimport MenuIcon from '@mui/icons-material/Menu'\r\nimport AccountCircle from '@mui/icons-material/AccountCircle'\r\nimport { Typography } from '@mui/material'\r\nimport AdbIcon from '@mui/icons-material/Adb'\r\nimport { Box } from '@mui/material'\r\nimport { Link as RouterLink, MemoryRouter } from 'react-router-dom'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { TextField } from '@mui/material'\r\nimport loginService from '../services/login'\r\nimport { setLoggedInUser } from '../reducers/loggedInUserReducer'\r\nimport fooditemService from '../services/fooditem'\r\nimport recipeService from '../services/recipes'\r\n\r\nexport default function HeaderBar({ logout }) {\r\n\r\n  const [anchorElementUser, setAnchorElementUser] = useState(null)\r\n  const [anchorElementNavigation, setAnchorElementNavigation] = useState(null)\r\n  const [anchorElementLogin, setAnchorElementLogin] = useState(null)\r\n  const loggedInUser = useSelector(state => state.loggedInUser)\r\n  const [username, setUsername] = useState('')\r\n  const [password, setPassword] = useState('')\r\n  const [alert, setAlert] = useState(null)\r\n\r\n  const dispatch = useDispatch()\r\n\r\n  const handleUserMenu = (event) => {\r\n    console.log(event.currentTarget)\r\n    setAnchorElementUser(event.currentTarget)\r\n  }\r\n\r\n  const handleOpenNavigationMenu = (event) => {\r\n    setAnchorElementNavigation(event.currentTarget)\r\n  }\r\n\r\n  const handleOpenLoginMenu = (event) => {\r\n    setAnchorElementLogin(event.currentTarget)\r\n  }\r\n\r\n  const handleClose = () => {\r\n    setAnchorElementUser(null)\r\n\r\n  }\r\n\r\n  const handleCloseLoginMenu = () => {\r\n    setAnchorElementLogin(null)\r\n    setUsername('')\r\n    setPassword('')\r\n  }\r\n\r\n  const handleCloseNavigationMenu = () => {\r\n    setAnchorElementNavigation(null)\r\n  }\r\n\r\n  const handleLogout = () => {\r\n    logout()\r\n    setAnchorElementUser(null)\r\n  }\r\n\r\n  const handleLogin = async (event) => {\r\n    event.preventDefault()\r\n    console.log(username)\r\n    console.log(password)\r\n    // if successful login, handleCloseLoginMenu()\r\n\r\n\r\n    try {\r\n\r\n      const userdata = {\r\n        username,\r\n        password\r\n      }\r\n      const receivedTokenAndUserdata = await loginService.loginUser(userdata)\r\n      //Error thrown if unsuccessful login.\r\n\r\n      console.log('token', receivedTokenAndUserdata)\r\n      dispatch(setLoggedInUser(receivedTokenAndUserdata))\r\n      window.localStorage.setItem('MatappSavedLocalUser', JSON.stringify(receivedTokenAndUserdata))\r\n      fooditemService.setToken(receivedTokenAndUserdata.token)\r\n      recipeService.setToken(receivedTokenAndUserdata.token)\r\n      //Cleanup\r\n      handleCloseLoginMenu()\r\n\r\n    } catch (error) {\r\n      //Show error in login window\r\n      console.log(error.response.data.error)\r\n      setAlert(error.response.data.error)\r\n    }\r\n\r\n    console.log('submitted!')\r\n  }\r\n\r\n  const handleGuestLogin = async (event) => {\r\n    event.preventDefault()\r\n    try {\r\n\r\n      const userdata = {\r\n        username: 'guest',\r\n        password: 'guest'\r\n      }\r\n      const receivedTokenAndUserdata = await loginService.loginUser(userdata)\r\n      //Error thrown if unsuccessful login.\r\n\r\n      dispatch(setLoggedInUser(receivedTokenAndUserdata))\r\n      window.localStorage.setItem('MatappSavedLocalUser', JSON.stringify(receivedTokenAndUserdata))\r\n      fooditemService.setToken(receivedTokenAndUserdata.token)\r\n      recipeService.setToken(receivedTokenAndUserdata.token)\r\n      //Cleanup\r\n      handleCloseLoginMenu()\r\n\r\n    } catch (error) {\r\n      //Show error in login window\r\n      console.log(error.response.data.error)\r\n      setAlert(error.response.data.error)\r\n    }\r\n\r\n    console.log('submitted!')\r\n  }\r\n\r\n\r\n  return (\r\n    <div>\r\n      <AppBar position=\"static\">\r\n        <Toolbar>\r\n          <AdbIcon sx={{ display: { xs: 'none', md: 'flex' }, mr: 1 }} />\r\n          <Typography\r\n            variant='h6'\r\n            noWrap\r\n            component='div'\r\n            sx={{\r\n              mr: 2,\r\n              display: { xs: 'none', md: 'flex' },\r\n              color: 'inherit'\r\n            }}\r\n          >\r\n            RECIPES\r\n          </Typography>\r\n          <Box sx={{ flexgrow: 1, display: { xs: 'flex', md: 'none' } }}>\r\n            <IconButton\r\n              size=\"medium\"\r\n              edge=\"start\"\r\n              color=\"inherit\"\r\n              aria-label=\"menu\"\r\n              onClick={handleOpenNavigationMenu}\r\n              sx={{ mr: 2 }}\r\n            >\r\n              <MenuIcon />\r\n            </IconButton>\r\n            <Menu\r\n              id='menu-navigation'\r\n              anchorEl={anchorElementNavigation}\r\n              anchorOrigin={{\r\n                vertical: 'top',\r\n                horizontal: 'left'\r\n              }}\r\n              keepMounted\r\n              transformOrigin={{\r\n                vertical: 'top',\r\n                horizontal: 'left'\r\n              }}\r\n              open={Boolean(anchorElementNavigation)}\r\n              onClose={handleCloseNavigationMenu}\r\n              sx={{\r\n                display: { xs: 'block', md: 'none' }\r\n              }}\r\n            >\r\n              <MenuItem onClick={handleCloseNavigationMenu}>\r\n                <Typography\r\n                  textAlign='center'\r\n                  component={RouterLink}\r\n                  to='/'\r\n                  color='inherit'\r\n                  textDecoration='none'\r\n                >\r\n                  Home\r\n                </Typography>\r\n              </MenuItem>\r\n              <MenuItem onClick={handleCloseNavigationMenu}>\r\n                <Typography\r\n                  textAlign='center'\r\n                  component={RouterLink}\r\n                  to='/fooditems/'\r\n                  color='inherit'\r\n                  textDecoration='none'\r\n                >\r\n                  Fooditems\r\n                </Typography>\r\n              </MenuItem>\r\n            </Menu>\r\n          </Box>\r\n          <AdbIcon sx={{ display: { xs: 'flex', md: 'none' }, mr: 1 }} />\r\n          <Typography\r\n            variant='h6'\r\n            noWrap\r\n            component='div'\r\n            href='/'\r\n            sx={{\r\n              mr: 2,\r\n              display: { xs: 'flex', md: 'none' },\r\n              flexGrow: 1,\r\n              color: 'inherit',\r\n              textDecoration: 'none'\r\n            }}\r\n          >\r\n            RECIPES\r\n          </Typography>\r\n          <Box sx={{ flexGrow: 1, display: { xs: 'none', md: 'flex' } }}>\r\n            <Button\r\n              onClick={handleCloseNavigationMenu}\r\n              component={RouterLink}\r\n              to='/'\r\n              sx={{ my: 2, color: 'inherit', display: 'block' }}\r\n            >\r\n              Home\r\n            </Button>\r\n            <Button\r\n              onClick={handleCloseNavigationMenu}\r\n              component={RouterLink}\r\n              to='/fooditems/'\r\n              sx={{ my: 2, color: 'inherit', display: 'block' }}\r\n            >\r\n              Fooditems\r\n            </Button>\r\n          </Box>\r\n          <Box sx={{ flexGrow: 1 }} />\r\n\r\n          {loggedInUser ?\r\n            <Box sx={{ display: { xs: 'flex', md: 'flex' } }}>\r\n              <Typography\r\n                variant=\"subtitle1\"\r\n                noWrap\r\n                sx={{\r\n                  mr: 2,\r\n                  display: { xs: 'none', md: 'flex' },\r\n                  alignItems: 'center',\r\n                  color: 'inherit',\r\n                  textDecoration: 'none'\r\n                }}\r\n              >\r\n                {loggedInUser.username}\r\n              </Typography>\r\n              <Tooltip title=\"Open user menu\">\r\n                <IconButton\r\n                  size=\"large\"\r\n                  onClick={handleUserMenu}\r\n                  aria-label=\"test menu\"\r\n                  aria-controls=\"menu-appbar\"\r\n                  aria-haspopup=\"true\"\r\n                  color=\"inherit\"\r\n                >\r\n\r\n                  <AccountCircle />\r\n                </IconButton>\r\n              </Tooltip>\r\n              <Menu\r\n                id=\"menu-appbar\"\r\n                anchorEl={anchorElementUser}\r\n                anchorOrigin={{\r\n                  vertical: 'top',\r\n                  horizontal: 'right'\r\n                }}\r\n                transformOrigin={{\r\n                  vertical: 'top',\r\n                  horizontal: 'right',\r\n                }}\r\n                keepMounted\r\n                open={Boolean(anchorElementUser)}\r\n                onClose={handleClose}\r\n              >\r\n                <MenuItem onClick={handleLogout}>Logout</MenuItem>\r\n                <MenuItem onClick={handleClose}>Test2</MenuItem>\r\n              </Menu>\r\n            </Box> :\r\n            <Box>\r\n              <Button\r\n                variant=\"RouterLink\"\r\n                noWrap\r\n                //onClick={() => showLogin(true)}\r\n                onClick={handleOpenLoginMenu}\r\n                sx={{\r\n                  mr: 2,\r\n                  display: { xs: 'flex', md: 'flex' },\r\n                  alignItems: 'center',\r\n                  color: 'inherit',\r\n                  textDecoration: 'none'\r\n                }}>\r\n                Login\r\n              </Button>\r\n              <Popover\r\n                component=\"form\"\r\n                onSubmit={handleLogin}\r\n                id='login-menu'\r\n                open={Boolean(anchorElementLogin)}\r\n                anchorEl={anchorElementLogin}\r\n                onClose={handleCloseLoginMenu}\r\n                anchorOrigin={{\r\n                  vertical: 'bottom',\r\n                  horizontal: 'left',\r\n                }}\r\n              >\r\n                <Box\r\n                  sx={{\r\n                    alignContent: 'right'\r\n                  }}>\r\n                  <Typography\r\n                    variant='h6'\r\n                    sx={{\r\n                      color: 'inherit',\r\n                      p: 2,\r\n                    }}\r\n                  >\r\n                  Login\r\n                  </Typography>\r\n                </Box>\r\n                <Box\r\n                  sx={{\r\n                    px: 2,\r\n                    py: 1\r\n                  }}>\r\n                  <TextField fullWidth value={username} onChange={( event ) => setUsername(event.target.value)} controlId=\"formUsername\" id=\"username\" label=\"username\" variant=\"filled\" /><br />\r\n                </Box>\r\n                <Box\r\n                  sx={{\r\n                    px: 2,\r\n                    py: 1\r\n                  }}\r\n                >\r\n                  <TextField fullWidth value={password} onChange={( event ) => setPassword(event.target.value)} id=\"password\" label=\"password\" variant=\"filled\" type=\"password\" />\r\n                </Box>\r\n                {alert ? <Alert\r\n                  severity='warning'\r\n                  onClose={() => setAlert(null)}\r\n                >{alert}</Alert> :\r\n                  <></>\r\n                }\r\n                <Box\r\n                  sx={{\r\n                    p:2\r\n                  }}>\r\n\r\n                  <Button\r\n                    variant='contained'\r\n                    onClick={handleLogin}\r\n                    type='submit'\r\n                  >\r\n                  Login\r\n                  </Button>\r\n                  {' '}\r\n                  <Button\r\n                    onClick={handleCloseLoginMenu}\r\n                    variant='contained'\r\n                  >\r\n                  Close\r\n                  </Button>\r\n                  {' '}\r\n                  <Button\r\n                    variant='outlined'\r\n                    onClick={handleGuestLogin}\r\n                  >\r\n                  Login as guest\r\n                  </Button>\r\n\r\n                </Box>\r\n              </Popover>\r\n            </Box>\r\n          }\r\n\r\n\r\n        </Toolbar>\r\n      </AppBar>\r\n    </div>\r\n  )\r\n}","/* eslint-disable no-unused-vars */\r\nimport React from 'react'\r\nimport FooditemForm from './components/FooditemForm'\r\nimport RecipeList from './components/RecipeList'\r\nimport Recipe from './components/Recipe'\r\nimport FooditemList from './components/FooditemList'\r\nimport Notifications from './components/Notifications'\r\nimport { useEffect } from 'react'\r\nimport recipeService from './services/recipes'\r\nimport fooditemService from './services/fooditem'\r\nimport { useDispatch } from 'react-redux'\r\nimport { initRecipes } from './reducers/recipeReducer'\r\nimport { initFooditems } from './reducers/fooditemReducer'\r\nimport { Switch, Route } from 'react-router-dom'\r\nimport { setLoggedInUser, clearLoggedInUser } from './reducers/loggedInUserReducer'\r\nimport { Grid } from '@mui/material'\r\nimport HeaderBar from './components/HeaderBar'\r\nimport { ThemeProvider } from '@mui/material'\r\nimport { createTheme } from '@mui/material'\r\n\r\nfunction App() {\r\n\r\n  const dispatch = useDispatch()\r\n\r\n\r\n  const logout = () => {\r\n    console.log('logout!')\r\n    window.localStorage.removeItem('MatappSavedLocalUser')\r\n    dispatch(clearLoggedInUser())\r\n    fooditemService.setToken(null)\r\n    recipeService.setToken(null)\r\n  }\r\n\r\n  useEffect(() => {\r\n    const savedUserJSON = window.localStorage.getItem('MatappSavedLocalUser')\r\n    if(savedUserJSON) {\r\n      const savedUser = JSON.parse(savedUserJSON)\r\n      dispatch(setLoggedInUser(savedUser))\r\n      recipeService.setToken(savedUser.token)\r\n      fooditemService.setToken(savedUser.token)\r\n    }\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    recipeService\r\n      .getAll()\r\n      .then(response => {\r\n        dispatch(initRecipes(response.data))\r\n      })\r\n  }, [dispatch])\r\n\r\n  useEffect(() => {\r\n    fooditemService\r\n      .getAll()\r\n      .then(response => {\r\n        dispatch(initFooditems(response.data))\r\n      })\r\n  }, [dispatch])\r\n\r\n  const theme = createTheme({\r\n    palette: {\r\n      primary: {\r\n        light: '#4c8c4a',\r\n        main: '#1a8145',\r\n        dark: '#003300',\r\n        contrastText: '#ffffff'\r\n      },\r\n      secondary: {\r\n        light: '#8d4887',\r\n        main: '#5e1b5a',\r\n        dark: '#320030',\r\n        contrastText: '#ffffff'\r\n      },\r\n    }\r\n  })\r\n\r\n  return (\r\n    <div>\r\n      <ThemeProvider theme={theme}>\r\n        <HeaderBar logout={logout} />\r\n        <Notifications />\r\n        <Switch>\r\n          <Route path='/recipe/:id'>\r\n            <Grid container spacing={2} flexWrap='wrap' justifyContent='flex-start' >\r\n              <Recipe  />\r\n              <FooditemForm />\r\n            </Grid>\r\n          </Route>\r\n          <Route path='/recipe/'>\r\n            <RecipeList />\r\n          </Route>\r\n          <Route path='/fooditems/'>\r\n            <div className='column'>\r\n              <FooditemList />\r\n              <FooditemForm />\r\n            </div>\r\n          </Route>\r\n          <Route path='/'>\r\n            <RecipeList />\r\n          </Route>\r\n        </Switch>\r\n      </ThemeProvider>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App\r\n","import { createStore, combineReducers, applyMiddleware } from 'redux'\r\nimport { composeWithDevTools } from 'redux-devtools-extension'\r\nimport thunk from 'redux-thunk'\r\n\r\nimport fooditemReducer from './reducers/fooditemReducer'\r\nimport recipeReducer from './reducers/recipeReducer'\r\nimport activeRecipeReducer from './reducers/activeRecipeReducer'\r\nimport loggedInUserReducer from './reducers/loggedInUserReducer'\r\nimport notificationReducer from './reducers/notificationReducer'\r\nimport timerReducer from './reducers/timerReducer'\r\n\r\nconst reducer = combineReducers({\r\n  fooditems: fooditemReducer,\r\n  recipes: recipeReducer,\r\n  activeRecipe: activeRecipeReducer,\r\n  loggedInUser: loggedInUserReducer,\r\n  notification: notificationReducer,\r\n  timer: timerReducer\r\n})\r\n\r\nconst store = createStore(\r\n  reducer,\r\n  composeWithDevTools(applyMiddleware(thunk))\r\n)\r\n\r\nexport default store\r\n\r\n\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './App'\r\nimport { Provider } from 'react-redux'\r\nimport store from './store'\r\nimport { BrowserRouter as Router } from 'react-router-dom'\r\n\r\nReactDOM.render(\r\n  <Router>\r\n    <Provider store={store} >\r\n      <App />\r\n    </Provider>\r\n  </Router>,\r\n  document.getElementById('root')\r\n)\r\n"],"sourceRoot":""}