{"version":3,"sources":["services/fooditem.js","reducers/fooditemReducer.js","components/FooditemForm.js","reducers/activeRecipeReducer.js","components/IngredientForm.js","services/recipes.js","reducers/recipeReducer.js","components/RecipeListItem.js","components/RecipeList.js","utils/ingredientCalc.js","components/Ingredient.js","components/Recipe.js","reducers/timerReducer.js","reducers/notificationReducer.js","components/FooditemList.js","services/login.js","reducers/loggedInUserReducer.js","components/LoginForm.js","components/Notifications.js","App.js","store.js","index.js"],"names":["baseUrl","token","deleteFooditem","id","a","config","headers","Authorization","console","log","axios","delete","response","fooditemService","setToken","newToken","getAll","get","createFooditem","newFooditem","post","updateFooditem","changedFooditem","put","fooditemId","dispatch","deletedItem","type","data","fooditemReducer","state","action","concat","newState","filter","item","FooditemForm","useDispatch","onSubmit","event","preventDefault","target","name","value","fooditem","foodItem","protein","fat","carbohydrate","carb","createdItem","setActiveRecipe","recipe","updateIngredientAmount","ingredientId","newAmount","activeRecipeReducer","newIngredient","ingredientsArray","ingredients","ingredientToUpdate","find","ingredient","updatedIngredient","amount","newIngredientList","map","newIngredientsArray","IngredientForm","fooditems","useSelector","options","label","amountUnit","Math","floor","random","window","alert","option","recipeService","getRecipe","createRecipe","newRecipe","updateRecipe","changedRecipe","deleteRecipe","recipeToDelete","addIngredientToRecipe","updateIngredientInRecipe","deleteIngredientFromRecipe","updateAllIngredients","ingredientsList","addRecipe","recipeReducer","selectedRecipe","RecipeListItem","handleCloneRecipe","handleShowRecipe","handleDeleteRecipe","useState","visibleDeleteField","setVisibleDeleteField","TableRow","sx","border","TableCell","component","scope","title","date","align","size","ButtonGroup","Button","variant","onClick","template","IconButton","disabled","color","Alert","RecipeList","recipes","history","useHistory","push","recipeWithoutId","today","Date","toLocaleDateString","TableContainer","Paper","Table","minWidth","TableHead","TableBody","ingredientCalc","caloriesIn","calcTotalCalOf","reduce","totalCal","calcTotalCarbsOf","totalCarbs","calcTotalFatOf","totalFat","calcTotalProteinOf","totalProtein","Ingredient","updateAmount","editMode","setEditMode","setAmount","sliderValue","setSliderValue","style","width","onChange","currentAmount","increaseAmountByOne","decreaseAmountByOne","min","max","Recipe","activeRecipe","useParams","useEffect","savedRecipeJSON","localStorage","getItem","JSON","parse","decodedSave","then","length","undefined","localSave","saveObject","setItem","stringify","saveToBackend","removeItem","setTimeoutHandle","timeoutHandle","timerReducer","clearTimeout","createNotification","messageText","messageType","timeout","setNotification","setTimeout","clearNotification","notificationReducer","FooditemList","fooditemList","handleDelete","returnvalue","error","message","Container","Row","Col","xs","lg","loginUser","userdata","loginService","setLoggedInUser","loggedInUserReducer","LoginForm","hideLoginField","handleSubmit","formUsername","formPassword","username","password","receivedTokenAndUserdata","Form","Group","className","controlId","Label","Control","placeholder","Notifications","notification","App","loggedInUser","showLoginForm","setShowLoginForm","savedUserJSON","savedUser","Headers","AppBar","position","Toolbar","edge","mr","Typography","Menu","MenuItem","href","textDecoration","display","md","fontFamily","fontWeight","letterSpacing","path","reducer","combineReducers","timer","store","createStore","composeWithDevTools","applyMiddleware","thunk","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.781d5ccd.chunk.js","sourcesContent":["import axios from 'axios'\r\n//const baseUrl = 'http://localhost:3003/api/fooditems'\r\nconst baseUrl = '/api/fooditems'\r\nlet token = null\r\n\r\nconst setToken = (newToken) => {\r\n  token = `bearer ${newToken}`\r\n  console.log('token set:', token)\r\n}\r\n\r\nconst getAll = () => {\r\n  console.log('getting all?')\r\n  return axios.get(baseUrl)\r\n}\r\n\r\nconst createFooditem = (newFooditem) => {\r\n  const config = {\r\n    headers: { Authorization: token }\r\n  }\r\n  console.log('config:', config)\r\n  return axios.post(baseUrl, newFooditem, config)\r\n}\r\n\r\nconst updateFooditem = (id, changedFooditem) => {\r\n  return axios.put(`${baseUrl}/${id}`, changedFooditem)\r\n}\r\n\r\nconst deleteFooditem = async (id) => {\r\n  const config = {\r\n    headers: { Authorization: token }\r\n  }\r\n  console.log('config:', config)\r\n  const response = await axios.delete(`${baseUrl}/${id}`, config)\r\n  return response\r\n}\r\n\r\nconst fooditemService = {\r\n  setToken,\r\n  getAll,\r\n  createFooditem,\r\n  updateFooditem,\r\n  deleteFooditem\r\n\r\n}\r\n\r\nexport default fooditemService\r\n","import fooditemService from '../services/fooditem'\r\n\r\nexport const initFooditems = (fooditemList) => {\r\n  return {\r\n    type: 'INIT_FOODITEMS',\r\n    data: fooditemList\r\n  }\r\n}\r\n\r\nexport const addFooditem = (fooditem) => {\r\n  return async dispatch => {\r\n    try {\r\n      const createdItem = await fooditemService.createFooditem(fooditem)\r\n      console.log('DB created fooditem: ', createdItem.data)\r\n      await dispatch({\r\n        type: 'ADD_FOODITEM',\r\n        data: createdItem.data\r\n      })\r\n      return null\r\n    }\r\n    catch (error) {\r\n      return error\r\n    }\r\n  }\r\n}\r\n\r\nexport const deleteFooditem = (fooditemId) => {\r\n  return async dispatch => {\r\n    try{\r\n      const deletedItem = await fooditemService.deleteFooditem(fooditemId)\r\n      console.log('Deleted:', deletedItem)\r\n      await dispatch({\r\n        type: 'DELETE_FOODITEM',\r\n        data: fooditemId\r\n      })\r\n      return null\r\n    }\r\n    catch (error) {\r\n      return error\r\n    }\r\n\r\n  }\r\n}\r\n\r\nconst fooditemReducer = (state = [], action) => {\r\n  switch (action.type){\r\n  case 'INIT_FOODITEMS':\r\n    return action.data\r\n  case 'ADD_FOODITEM':\r\n    return state.concat(action.data)\r\n  case 'DELETE_FOODITEM': {\r\n    const newState = state.filter(item => item.id !== action.data)\r\n    return newState\r\n  }\r\n  default:\r\n    return state\r\n  }\r\n}\r\n\r\nexport default fooditemReducer\r\n","import React from 'react'\r\nimport { useDispatch } from 'react-redux'\r\n//import foodItemService from '../services/foodItem'\r\nimport { addFooditem } from '../reducers/fooditemReducer'\r\n\r\n/*\r\nfoodItem: {\r\n  name: String,\r\n  protein: Number,\r\n  fat: Number,\r\n  carbohydrate: Number,\r\n  id: String (generated by db)\r\n}\r\n*/\r\nconst FooditemForm = () => {\r\n  const dispatch = useDispatch()\r\n\r\n  const handleAddFoodItem = (event) => {\r\n    event.preventDefault()\r\n    console.log('Adding food item', event.target.name.value)\r\n\r\n    const foodItem = {\r\n      name: event.target.name.value,\r\n      protein: event.target.protein.value,\r\n      fat: event.target.fat.value,\r\n      carbohydrate: event.target.carb.value\r\n    }\r\n    dispatch(addFooditem(foodItem))\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>Create Food Item</h2>\r\n      <form onSubmit={handleAddFoodItem}>\r\n        <table><tbody>\r\n          <tr>\r\n            <td>Food name</td><td><input name='name'/></td>\r\n          </tr><tr>\r\n            <td>Protein</td><td><input name='protein' /> per 100g</td>\r\n          </tr><tr>\r\n            <td>Carbohydrates</td><td><input name='carb'/> per 100g</td>\r\n          </tr><tr>\r\n            <td>Fat</td><td><input name='fat'/> per 100g</td>\r\n          </tr>\r\n        </tbody></table>\r\n        <button type='submit'>Add new foodItem</button>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default FooditemForm\r\n","const generateId = () => {\r\n  return Math.floor(Math.random() * 10000)\r\n}\r\n\r\n\r\nexport const setActiveRecipe = (recipe) => {\r\n  //Recieve a whole recipe.\r\n  return {\r\n    type: 'SET_RECIPE',\r\n    data: recipe\r\n  }\r\n}\r\n\r\nexport const addIngredientToRecipe = (ingredient) => {\r\n  console.log('Ingredient: ', ingredient)\r\n  return {\r\n    type: 'ADD_INGREDIENT',\r\n    data: {\r\n      ...ingredient,\r\n      id: generateId()\r\n    }\r\n  }\r\n}\r\n\r\nexport const updateIngredientAmount = (ingredientId, newAmount) => {\r\n  return {\r\n    type: 'UPDATE_INGREDIENT_AMOUNT',\r\n    data: {\r\n      ingredientId,\r\n      newAmount\r\n    }\r\n  }\r\n}\r\n\r\nexport const deleteIngredient = (ingredientId) => {\r\n  return {\r\n    type: 'DELETE_INGREDIENT',\r\n    data: {\r\n      ingredientId\r\n    }\r\n  }\r\n}\r\n\r\n\r\nconst activeRecipeReducer = (state = null, action) => {\r\n  switch (action.type) {\r\n  case 'SET_RECIPE':{\r\n    return action.data\r\n  }\r\n  case 'ADD_INGREDIENT':{\r\n    const newIngredient = action.data\r\n    const ingredientsArray = state.ingredients.concat(newIngredient)\r\n    return { ...state, ingredients: ingredientsArray }\r\n  }\r\n  case 'UPDATE_INGREDIENT_AMOUNT': {\r\n    const ingredientToUpdate = state.ingredients.find((ingredient) => ingredient.id === action.data.ingredientId)\r\n    const updatedIngredient = {\r\n      ...ingredientToUpdate,\r\n      amount: action.data.newAmount\r\n    }\r\n    const newIngredientList = state.ingredients.map((ingredient) => ingredient.id !== updatedIngredient.id ? ingredient : updatedIngredient)\r\n    //console.log('New state:', { ...state, ingredients: newIngredientList } )\r\n    return { ...state, ingredients: newIngredientList }\r\n  }\r\n  case 'DELETE_INGREDIENT': {\r\n    const newIngredientsArray = state.ingredients.filter(ingredient => ingredient.id !== action.data.ingredientId)\r\n    return { ...state, ingredients: newIngredientsArray }\r\n  }\r\n  default:\r\n    return state\r\n  }\r\n}\r\n\r\nexport default activeRecipeReducer","import React from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { addIngredientToRecipe } from '../reducers/activeRecipeReducer'\r\n\r\nconst IngredientForm = () => {\r\n  const fooditems = useSelector(state => state.fooditems)\r\n  const dispatch = useDispatch()\r\n\r\n  //GOing to need access to food Items\r\n  //and callback function to create Ingredient\r\n\r\n  const addIngredient = (event) => {\r\n    event.preventDefault()\r\n    if(!event.target.fooditem.value) {window.alert('Please select a food from the menu')\r\n      return\r\n    }\r\n    //setErrorNotification\r\n    //console.log('fooditem: ', event.target.fooditem.value)\r\n    const newIngredient = {\r\n      fooditemId: event.target.fooditem.value,\r\n      amount: event.target.amount.value,\r\n      amountUnit: event.target.amountUnit.value,\r\n    }\r\n    event.target.amount.value = ''\r\n    event.target.amountUnit.value = 'g'\r\n    console.log('new ingredient', newIngredient)\r\n\r\n    dispatch(addIngredientToRecipe(newIngredient))\r\n  }\r\n  const options = fooditems.map((fooditem) => {\r\n    return { value: fooditem.id, label: fooditem.name }\r\n  })\r\n\r\n\r\n  return (\r\n    <div>\r\n      <h2>Add Ingredient</h2>\r\n      <form onSubmit={addIngredient}>\r\n        <table><tbody>\r\n          <tr>\r\n            <td>Food Name</td><td>\r\n              <select name='fooditem' >\r\n                {options.map((option) =>\r\n                  <option key={option.value} value={option.value}>{option.label}</option>\r\n                )}\r\n              </select>\r\n            </td>\r\n\r\n            <td>Amount</td><td><input name='amount'  />\r\n          Unit\r\n              <select name='amountUnit' >\r\n                <option value='g'>gram (g)</option>\r\n                <option value='ml'>milliliter (ml)</option>\r\n                <option value='tbsp'>tablespoon (tbsp)</option>\r\n                <option value='tsp'>teaspoon (tsp)</option>\r\n              </select></td>\r\n          </tr>\r\n        </tbody></table>\r\n        <button type='submit'>Add Ingredient to recipe</button>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default IngredientForm","import axios from 'axios'\r\n//const baseUrl = 'http://localhost:3003/api/recipes'\r\nconst baseUrl = '/api/recipes'\r\nlet token = null\r\n\r\nconst setToken = (newToken) => {\r\n  token = `bearer ${newToken}`\r\n  console.log('token set:', token)\r\n}\r\n\r\nconst getAll = () => {\r\n  return axios.get(baseUrl)\r\n}\r\n\r\nconst getRecipe = (id) => {\r\n  console.log('getting local recipe')\r\n  return axios.get(`${baseUrl}/${id}`)\r\n}\r\n\r\nconst createRecipe = (newRecipe) => {\r\n  const config = {\r\n    headers: { Authorization: token }\r\n  }\r\n\r\n  return axios.post(baseUrl, newRecipe, config)\r\n}\r\n\r\nconst updateRecipe = (changedRecipe) => {\r\n  const config = {\r\n    headers: { Authorization: token }\r\n  }\r\n\r\n  return axios.put(`${baseUrl}/${changedRecipe.id}`, changedRecipe, config)\r\n}\r\n\r\nconst deleteRecipe = (recipeToDelete) => {\r\n  const config = {\r\n    headers: { Authorization: token }\r\n  }\r\n  return axios.delete(`${baseUrl}/${recipeToDelete.id}`, config)\r\n}\r\n\r\nconst addIngredientToRecipe = (recipe, ingredient) => {\r\n  const config = {\r\n    headers: { Authorization: token }\r\n  }\r\n  return axios.post(`${baseUrl}/${recipe.id}/ingredients`, ingredient, config)\r\n\r\n}\r\n\r\nconst updateAllIngredients = (recipe, ingredientsList) => {\r\n  const config = {\r\n    headers: { Authorization: token }\r\n  }\r\n  return axios.put(`${baseUrl}/${recipe.id}/ingredients`, ingredientsList, config)\r\n}\r\n\r\nconst updateIngredientInRecipe = (recipe, ingredient) => {\r\n  const config = {\r\n    headers: { Authorization: token }\r\n  }\r\n  return axios.put(`${baseUrl}/${recipe.id}/ingredients/${ingredient.id}`, ingredient, config)\r\n}\r\n\r\nconst deleteIngredientFromRecipe = (recipe, ingredientId) => {\r\n  console.log('we deleting now boys!')\r\n  const config = {\r\n    headers: { Authorization: token }\r\n  }\r\n  return axios.delete(`${baseUrl}/${recipe.id}/ingredients/${ingredientId}`, config)\r\n}\r\n\r\n\r\nconst recipeService = {\r\n  getAll,\r\n  getRecipe,\r\n  createRecipe,\r\n  updateRecipe,\r\n  deleteRecipe,\r\n  setToken,\r\n  addIngredientToRecipe,\r\n  updateIngredientInRecipe,\r\n  deleteIngredientFromRecipe,\r\n  updateAllIngredients\r\n}\r\n\r\nexport default recipeService","//NO async with thunk yet\r\n//import recipeService from '../services/recipes'\r\n\r\nexport const initRecipes = (recipeList) => {\r\n\r\n  return {\r\n    type: 'INIT_RECIPES',\r\n    data: recipeList\r\n  }\r\n}\r\n\r\nexport const updateRecipe = (recipe) => {\r\n  return {\r\n    type: 'UPDATE_RECIPE',\r\n    data: recipe\r\n  }\r\n}\r\n\r\nexport const addRecipe = (recipe) => {\r\n  return {\r\n    type: 'ADD_RECIPE',\r\n    data: recipe\r\n  }\r\n}\r\n\r\nexport const deleteRecipe = (recipe) => {\r\n  return {\r\n    type: 'DELETE_RECIPE',\r\n    data: recipe\r\n  }\r\n}\r\n\r\nconst recipeReducer = (state = [], action) => {\r\n  switch (action.type) {\r\n  case 'INIT_RECIPES':\r\n    return action.data\r\n  case 'ADD_RECIPE':\r\n    return state.concat(action.data)\r\n  case 'UPDATE_RECIPE':{\r\n    const selectedRecipe = state.find(recipe => recipe.id === action.data.id)\r\n    console.log('Updated recipe ', selectedRecipe )\r\n    return state.map(recipe => recipe.id !== action.data.id ? recipe : action.data)\r\n  }\r\n  case 'DELETE_RECIPE': {\r\n    const newState = state.filter(recipe => recipe.id !== action.data.id)\r\n    return newState\r\n  }\r\n  default:\r\n    return state\r\n  }\r\n}\r\n\r\nexport default recipeReducer","import React from 'react'\r\nimport { Alert } from 'react-bootstrap'\r\nimport { useState } from 'react'\r\nimport TableRow from '@mui/material/TableRow'\r\nimport TableCell from '@mui/material/TableCell'\r\nimport { Button, ButtonGroup, IconButton } from '@mui/material'\r\nimport DeleteIcon from '@mui/icons-material/Delete'\r\n\r\n\r\nconst RecipeListItem = ({ recipe, handleCloneRecipe, handleShowRecipe, handleDeleteRecipe }) => {\r\n\r\n  const [ visibleDeleteField, setVisibleDeleteField ] = useState(false)\r\n\r\n  return(\r\n    <TableRow key={recipe.id} sx={{ '&:last-child td, &:last-child th': { border: 0 } }}>\r\n      <TableCell component=\"th\" scope=\"row\">{recipe.title}</TableCell>\r\n      <TableCell>{recipe.date}</TableCell>\r\n      <TableCell align='right' size='small'>\r\n        <ButtonGroup><Button variant='contained' onClick={() => handleCloneRecipe(recipe) }>Copy</Button>\r\n          {recipe.template ?\r\n            <>\r\n              <Button variant='outlined'>Edit</Button>\r\n              <IconButton aria-label=\"delete\" disabled>\r\n                <DeleteIcon />\r\n              </IconButton>\r\n            </>\r\n            :\r\n            <>\r\n              <Button variant='contained' onClick={() => handleShowRecipe(recipe)}>Edit</Button>\r\n              <IconButton aria-label=\"delete\" color=\"primary\" onClick={() => setVisibleDeleteField(true)}>\r\n                <DeleteIcon />\r\n              </IconButton>\r\n            </>\r\n          }\r\n        </ButtonGroup>\r\n      </TableCell>\r\n      <br/>\r\n      {visibleDeleteField ?\r\n        <Alert variant='danger'>Really delete?<button onClick={() => handleDeleteRecipe(recipe)}>Yes</button><button onClick={() => setVisibleDeleteField(false)}>No</button> </Alert> :\r\n        <></>\r\n      }\r\n    </TableRow>\r\n  )\r\n}\r\n\r\nexport default RecipeListItem","import React from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { setActiveRecipe } from '../reducers/activeRecipeReducer'\r\nimport { useHistory } from 'react-router'\r\nimport recipeService from '../services/recipes'\r\nimport { addRecipe, deleteRecipe } from '../reducers/recipeReducer'\r\nimport RecipeListItem from './RecipeListItem'\r\nimport { Table, TableBody, TableHead, TableContainer, TableCell, TableRow } from '@mui/material'\r\nimport Paper from '@mui/material/Paper'\r\n\r\nconst RecipeList = () => {\r\n  const recipes = useSelector(state => state.recipes)\r\n  const dispatch = useDispatch()\r\n  const history = useHistory()\r\n\r\n  const handleShowRecipe = (recipe) => {\r\n    console.log('handled show recipe')\r\n    dispatch(setActiveRecipe(recipe))\r\n    history.push(`/recipe/${recipe.id}`)\r\n  }\r\n\r\n  const handleCloneRecipe = async (recipe) => {\r\n\r\n    let { id, ...recipeWithoutId } = recipe\r\n    console.log('WithoutID?', recipeWithoutId)\r\n    recipeWithoutId = { ...recipeWithoutId, template: false }\r\n\r\n    const today = (new Date()).toLocaleDateString('no-no')\r\n    recipeWithoutId.title = `${recipeWithoutId.title} - ${today}`\r\n    console.log(recipeWithoutId.name)\r\n    try {\r\n      const response = await recipeService.createRecipe(recipeWithoutId)\r\n      dispatch(addRecipe(response.data))\r\n      history.push(`/recipe/${response.data.id}`)\r\n    } catch (error) {\r\n      console.log('Failed to clone recipe')\r\n    }\r\n  }\r\n\r\n  const handleDeleteRecipe = async (recipe) => {\r\n    console.log('Delete clicked for recipe: ', recipe.id )\r\n    try {\r\n      const response = await recipeService.deleteRecipe(recipe)\r\n      console.log('deleted recipe', response)\r\n      dispatch(deleteRecipe(recipe))\r\n    } catch (error) {\r\n      console.log('Failed to delete recipe')\r\n    }\r\n  }\r\n\r\n  return(\r\n    <TableContainer component={Paper}>\r\n      <Table sx={{ minWidth: 650 }} aria-label=\"simple table\">\r\n        <TableHead>\r\n          <TableRow>\r\n            <TableCell>\r\n              Name\r\n            </TableCell>\r\n            <TableCell>\r\n              Date created\r\n            </TableCell>\r\n          </TableRow>\r\n        </TableHead>\r\n        <TableBody>\r\n          {recipes.map((recipe) =>\r\n            <RecipeListItem key={recipe.id}\r\n              recipe={recipe}\r\n              handleCloneRecipe={handleCloneRecipe}\r\n              handleShowRecipe={handleShowRecipe}\r\n              handleDeleteRecipe={handleDeleteRecipe}\r\n            />\r\n          )}\r\n        </TableBody>\r\n      </Table>\r\n    </TableContainer>\r\n  )\r\n}\r\n\r\nexport default RecipeList","const caloriesIn = (ingredient) => {\r\n  console.log('IngredientCalc - ingredient:', ingredient)\r\n  const calInFat = 9\r\n  const calInProtein = 4\r\n  const calInCarb = 4\r\n  const calPer100 = calInFat * ingredient.fooditem.fat + calInProtein * ingredient.fooditem.protein + calInCarb * ingredient.fooditem.carbohydrate\r\n  const totalCal = calPer100 * ingredient.amount / 100\r\n  return totalCal\r\n}\r\n\r\nconst calcTotalCalOf = (ingredients) => {\r\n  const totalCal = ingredients.reduce((totalCal, ingredient) => {\r\n    return totalCal + ingredientCalc.caloriesIn(ingredient)\r\n  }, 0)\r\n  return totalCal\r\n}\r\n\r\nconst calcTotalFatOf = (ingredients) => {\r\n  const totalFat = ingredients.reduce((totalFat, ingredient) => {\r\n    return totalFat + ingredient.fooditem.fat * ingredient.amount / 100\r\n  }, 0)\r\n  return totalFat\r\n}\r\n\r\nconst calcTotalProteinOf = (ingredients) => {\r\n  const totalProtein = ingredients.reduce((totalProtein, ingredient) => {\r\n    return totalProtein + ingredient.fooditem.protein * ingredient.amount / 100\r\n  }, 0)\r\n  return totalProtein\r\n}\r\n\r\nconst calcTotalCarbsOf = (ingredients) => {\r\n  const totalCarbs = ingredients.reduce((totalCarbs, ingredient) => {\r\n    return totalCarbs + ingredient.fooditem.carbohydrate * ingredient.amount / 100\r\n  }, 0)\r\n  return totalCarbs\r\n}\r\n\r\nconst ingredientCalc = {\r\n  caloriesIn,\r\n  calcTotalCalOf,\r\n  calcTotalCarbsOf,\r\n  calcTotalFatOf,\r\n  calcTotalProteinOf\r\n}\r\n\r\nexport default ingredientCalc","import React from 'react'\r\nimport { useState } from 'react'\r\nimport { updateIngredientAmount, deleteIngredient } from '../reducers/activeRecipeReducer'\r\nimport { useDispatch } from 'react-redux'\r\n\r\nconst Ingredient = ({ ingredient, updateAmount }) => {\r\n  const dispatch = useDispatch()\r\n\r\n\r\n  // eslint-disable-next-line no-unused-vars\r\n\r\n  const [editMode, setEditMode] = useState(false)\r\n  const [amount, setAmount] = useState(ingredient.amount)\r\n  const [sliderValue, setSliderValue] = useState(ingredient.amount)\r\n\r\n  const increaseAmountByOne = () => {\r\n    const currentAmount = amount\r\n    setAmount(currentAmount + 1)\r\n    setSliderValue(currentAmount + 1)\r\n    dispatch(updateIngredientAmount(ingredient.id, currentAmount + 1))\r\n  }\r\n  const decreaseAmountByOne = () => {\r\n    if(amount > 0) {\r\n      const currentAmount = amount\r\n      setAmount(currentAmount - 1)\r\n      setSliderValue(currentAmount - 1)\r\n      dispatch(updateIngredientAmount(ingredient.id, currentAmount - 1))\r\n    }\r\n  }\r\n\r\n  const handleSliderAmount = (event) => {\r\n    setAmount(event.target.value)\r\n    setSliderValue(event.target.value)\r\n    dispatch(updateIngredientAmount(ingredient.id, event.target.value))\r\n  }\r\n\r\n  const handleAmountUpdate = (value) => {\r\n    setAmount(value)\r\n    setSliderValue(value)\r\n    dispatch(updateIngredientAmount(ingredient.id, value))\r\n  }\r\n\r\n  const handleDeleteIngredient = () => {\r\n    //deleteIngredient(ingredient.id)\r\n    dispatch(deleteIngredient(ingredient.id))\r\n  }\r\n\r\n  if(!editMode) return (\r\n    <tr onClick={() => setEditMode(!editMode)}>\r\n      <td style={{ width: 100 }}>{ingredient.fooditem.name}</td>\r\n      <td style={{ width: 120 }}>{ingredient.amount} {ingredient.amountUnit}</td>\r\n      <td></td>\r\n    </tr>\r\n  )\r\n  else return (\r\n    <tr>\r\n      <td style={{ width: 100 }} onClick={() => setEditMode(!editMode)}>{ingredient.fooditem.name}</td>\r\n      <td><input value={amount} size='10' onChange={({ target }) => handleAmountUpdate(target.value)} />{ingredient.amountUnit}</td>\r\n      <td>\r\n        <button onClick={() => increaseAmountByOne()}>Increase</button>\r\n        <button onClick={() => decreaseAmountByOne()}>Decrease</button>\r\n        <input value={sliderValue} type='range' min='0' max='1000' onChange={handleSliderAmount}></input>\r\n        <button onClick={() => handleDeleteIngredient()}>Delete</button>\r\n      </td>\r\n    </tr>\r\n  )\r\n}\r\nexport default Ingredient","import React from 'react'\r\nimport { useEffect } from 'react'\r\nimport ingredientCalc from '../utils/ingredientCalc'\r\nimport Ingredient from './Ingredient'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { useParams, useHistory } from 'react-router'\r\nimport { setActiveRecipe } from '../reducers/activeRecipeReducer'\r\nimport recipeService from '../services/recipes'\r\n\r\nconst Recipe = () => {\r\n  const activeRecipe = useSelector(state => state.activeRecipe)\r\n  const fooditems = useSelector(state => state.fooditems)\r\n  const dispatch = useDispatch()\r\n  const history = useHistory()\r\n\r\n  let ingredients = null\r\n  const id = useParams().id\r\n  useEffect(() => {\r\n    //check if local saved recipe\r\n    const savedRecipeJSON = window.localStorage.getItem(`savedRecipe${id}`)\r\n    if (savedRecipeJSON) {\r\n      console.log('found save:', JSON.parse(savedRecipeJSON))\r\n      const decodedSave = JSON.parse(savedRecipeJSON)\r\n      console.log(decodedSave)\r\n      dispatch(setActiveRecipe(decodedSave.activeRecipe))\r\n      //ingredients = decodedSave.ingredients\r\n    } else {\r\n      //get from the backend\r\n      recipeService\r\n        .getRecipe(id)\r\n        .then(response => {\r\n          dispatch(setActiveRecipe(response.data))\r\n        })\r\n    }\r\n  }, [])\r\n\r\n  if(!activeRecipe) return <p>Waiting for activeRecipe to be set</p>\r\n  if(fooditems.length === 0) return <p>Waiting for foodItems</p>\r\n  console.log('Fooditems currently: ', fooditems)\r\n  if(!ingredients) {\r\n    ingredients = activeRecipe.ingredients.map(ingredient => {\r\n      const fooditem = fooditems.find(item => item.id === ingredient.fooditemId)\r\n      if(fooditem === undefined) {\r\n        console.log('Fooditem in recipe not found in fooditem list')\r\n        return {\r\n          fooditem:\r\n            {\r\n              name: '<Deleted fooditem>',\r\n              protein: 0,\r\n              fat: 0,\r\n              carbohydrate: 0,\r\n              id: 0\r\n            },\r\n          amount: 0,\r\n          amountUnit: 'g'\r\n        }\r\n      }\r\n      else {\r\n        console.log('found fooditem' ,fooditem)\r\n        ingredient.fooditem = fooditem\r\n        return ingredient\r\n      }\r\n    })\r\n  }\r\n  console.log('ingredients:',ingredients)\r\n\r\n  const updateIngredientAmount = (ingredientId, amount) => {\r\n    console.log('Want to save these changes: ', ingredientId, amount)\r\n    //first find ingredient to update\r\n    //Need a callback to App.\r\n  }\r\n\r\n  const localSave = () => {\r\n    const saveObject = {\r\n      activeRecipe: activeRecipe,\r\n      ingredients: ingredients\r\n    }\r\n    console.log('saving following ingredients:', ingredients)\r\n    window.localStorage.setItem(`savedRecipe${id}`, JSON.stringify(saveObject))\r\n  }\r\n  const cancelAndReturn = () => {\r\n    window.localStorage.removeItem(`savedRecipe${id}`)\r\n    history.push('/')\r\n\r\n  }\r\n\r\n  const saveToBackend = async () => {\r\n    localSave()\r\n    const response = await recipeService.updateAllIngredients(activeRecipe, ingredients)\r\n    console.log('response return data', response.data)\r\n    dispatch(setActiveRecipe(response.data))\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h1>{activeRecipe.title}</h1>\r\n      <button onClick={localSave}>Save changes locally</button>\r\n      <button onClick={cancelAndReturn}>Discard changes and return</button>\r\n      <button onClick={saveToBackend}>Save to server</button>\r\n      <h2>Ingredients</h2>\r\n      <table><tbody>\r\n        {ingredients.map((ingredient) =>\r\n          <Ingredient key={ingredient.id} ingredient={ingredient} updateAmount={updateIngredientAmount} />\r\n        )}\r\n      </tbody></table>\r\n      <h2>Nutritional information</h2>\r\n      <table>\r\n        <thead><tr><td>Total calories</td><td>Total protein</td><td>Total carbs</td><td>Total fat</td></tr></thead>\r\n        <tbody><tr>\r\n          <td>{ingredientCalc.calcTotalCalOf(ingredients)}</td>\r\n          <td>{ingredientCalc.calcTotalProteinOf(ingredients)}</td>\r\n          <td>{ingredientCalc.calcTotalCarbsOf(ingredients)}</td>\r\n          <td>{ingredientCalc.calcTotalFatOf(ingredients)}</td></tr></tbody>\r\n      </table>\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\nexport default Recipe","export const setTimeoutHandle = (timeoutHandle) => {\r\n  return {\r\n    type: 'SET_TIMER',\r\n    data: {\r\n      timeoutHandle\r\n    }\r\n  }\r\n}\r\n\r\nconst timerReducer = (state = null, action) => {\r\n  switch (action.type) {\r\n  case 'SET_TIMER': {\r\n    window.clearTimeout(state)\r\n    return action.data.timeoutHandle\r\n  }\r\n  case 'CLEAR_TIMER':\r\n    clearTimeout(state)\r\n    return null\r\n  default:\r\n    return state\r\n  }\r\n}\r\n\r\nexport default timerReducer","import { setTimeoutHandle } from './timerReducer'\r\n\r\nexport const createNotification = (messageText, messageType, timeout = 5000) => {\r\n  console.log('creating notification!')\r\n  return async dispatch => {\r\n    await dispatch(setNotification(messageText, messageType))\r\n    await dispatch(setTimeoutHandle(setTimeout( () => {\r\n      dispatch(clearNotification())\r\n    }, timeout )))\r\n  }\r\n}\r\n\r\nconst setNotification = (messageText, messageType) => {\r\n  return {\r\n    type: 'SET_NOTIFICATION',\r\n    data: {\r\n      messageText,\r\n      messageType,\r\n    }\r\n  }\r\n}\r\n\r\nconst clearNotification = () => {\r\n  console.log('clearing!')\r\n  return {\r\n    type: 'CLEAR_NOTIFICATION'\r\n  }\r\n}\r\n\r\n\r\nconst notificationReducer = (state = null, action) => {\r\n  switch (action.type) {\r\n  case 'SET_NOTIFICATION':\r\n    return action.data\r\n  case 'CLEAR_NOTIFICATION':\r\n    return null\r\n  default:\r\n    return state\r\n  }\r\n}\r\n\r\nexport default notificationReducer","import React from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { deleteFooditem } from '../reducers/fooditemReducer'\r\nimport { Container, Row, Col, Button } from 'react-bootstrap'\r\nimport { createNotification } from '../reducers/notificationReducer'\r\n\r\nconst FooditemList = () => {\r\n  const fooditemList = useSelector(state => state.fooditems)\r\n  // eslint-disable-next-line no-unused-vars\r\n  const dispatch = useDispatch()\r\n\r\n  const handleDelete = async (id) => {\r\n    const returnvalue = await dispatch(deleteFooditem(id))\r\n    if(returnvalue) {\r\n      console.log('received error: ', returnvalue.response.data.error)\r\n      dispatch(createNotification(returnvalue.message + ' - ' + returnvalue.response.data.error, 'error'))\r\n    } else {\r\n      console.log('retrnvalue null, success!')\r\n    }\r\n\r\n\r\n\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      <h2>Fooditems</h2>\r\n      <Row>\r\n        <Col xs lg='2'><b>Name</b></Col><Col align='left'>Protein</Col><Col>Carbs</Col><Col>Fat</Col><Col>Actions</Col>\r\n      </Row>\r\n      {fooditemList.map(fooditem =>\r\n        <Row key={fooditem.id}>\r\n          <Col>{fooditem.name}</Col>\r\n          <Col>{fooditem.protein}</Col>\r\n          <Col>{fooditem.carbohydrate}</Col>\r\n          <Col>{fooditem.fat}</Col>\r\n          <Col><Button onClick={() => handleDelete(fooditem.id)}>Delete</Button></Col>\r\n        </Row>\r\n      )}\r\n\r\n      <ul>\r\n        {fooditemList.map(fooditem =>\r\n          <li key={fooditem.id}>{fooditem.name} <button onClick={() => handleDelete(fooditem.id)}>Delete</button>\r\n\r\n          </li>\r\n        )}\r\n      </ul>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default FooditemList","import axios from 'axios'\r\nconst baseUrl = '/api/login'\r\n\r\nconst loginUser = async (userdata) => {\r\n  //returns token or error\r\n  const response = await axios.post(baseUrl, userdata)\r\n  return response.data\r\n\r\n}\r\n\r\nconst loginService = {\r\n  loginUser\r\n}\r\n\r\nexport default loginService","export const setLoggedInUser = (userdata) => {\r\n  return {\r\n    type: 'SET_ACTIVE_USER',\r\n    //data: 'Test user'\r\n    data: userdata\r\n  }\r\n}\r\n\r\nexport const clearLoggedInUser = () => {\r\n  return {\r\n    type: 'CLEAR_ACTIVE_USER'\r\n  }\r\n}\r\n\r\nconst loggedInUserReducer = ( state = null, action) => {\r\n  switch (action.type){\r\n  case 'SET_ACTIVE_USER':\r\n    return action.data\r\n  case 'CLEAR_ACTIVE_USER':\r\n    return null\r\n  default:\r\n    return state\r\n  }\r\n\r\n}\r\n\r\nexport default loggedInUserReducer","import React from 'react'\r\n//import useState from 'react'\r\nimport { Form, Button } from 'react-bootstrap'\r\nimport loginService from '../services/login'\r\nimport { useDispatch } from 'react-redux'\r\nimport { setLoggedInUser } from '../reducers/loggedInUserReducer'\r\nimport fooditemService from '../services/fooditem'\r\nimport recipeService from '../services/recipes'\r\n\r\n\r\nconst LoginForm = ({ hideLoginField }) => {\r\n  const dispatch = useDispatch()\r\n  // eslint-disable-next-line no-unused-vars\r\n  //const [username, setUsername] = useState('')\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault()\r\n\r\n    try {\r\n      console.log('user', event.target.formUsername.value)\r\n      console.log('pw', event.target.formPassword.value)\r\n      const userdata = {\r\n        username: event.target.formUsername.value,\r\n        password: event.target.formPassword.value\r\n      }\r\n      const receivedTokenAndUserdata = await loginService.loginUser(userdata)\r\n      console.log('token', receivedTokenAndUserdata)\r\n      dispatch(setLoggedInUser(receivedTokenAndUserdata))\r\n      window.localStorage.setItem('MatappSavedLocalUser', JSON.stringify(receivedTokenAndUserdata))\r\n      fooditemService.setToken(receivedTokenAndUserdata.token)\r\n      recipeService.setToken(receivedTokenAndUserdata.token)\r\n      hideLoginField()\r\n    } catch (error) {\r\n      console.log(error)\r\n    }\r\n\r\n    console.log('submitted!')\r\n\r\n  }\r\n\r\n  return(\r\n    <Form onSubmit={handleSubmit}>\r\n      <Form.Group className='mb-3' controlId='formUsername'>\r\n        <Form.Label>Username</Form.Label>\r\n        <Form.Control\r\n          type='text'\r\n          placeholder='enter username'\r\n        />\r\n      </Form.Group>\r\n      <Form.Group className='mb-3' controlId='formPassword'>\r\n        <Form.Label>Password</Form.Label>\r\n        <Form.Control\r\n          type='password'\r\n          placeholder='password'\r\n        />\r\n      </Form.Group>\r\n      <Button variant='primary' type='submit'>login</Button>\r\n    </Form>\r\n  )\r\n\r\n\r\n}\r\n\r\nexport default LoginForm","import React from 'react'\r\nimport { Alert } from 'react-bootstrap'\r\nimport { useSelector } from 'react-redux'\r\n\r\nconst Notifications = () => {\r\n  const notification = useSelector(state => state.notification)\r\n\r\n  if(notification)\r\n    return (\r\n\r\n      <Alert variant='warning'>{notification.messageText}</Alert>\r\n\r\n    )\r\n  else return null\r\n}\r\n\r\nexport default Notifications","/* eslint-disable no-unused-vars */\r\nimport React from 'react'\r\nimport FooditemForm from './components/FooditemForm'\r\nimport IngredientForm from './components/IngredientForm'\r\nimport RecipeList from './components/RecipeList'\r\nimport Recipe from './components/Recipe'\r\nimport FooditemList from './components/FooditemList'\r\nimport LoginForm from './components/LoginForm'\r\nimport Notifications from './components/Notifications'\r\nimport { useEffect, useState } from 'react'\r\nimport recipeService from './services/recipes'\r\nimport fooditemService from './services/fooditem'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { initRecipes } from './reducers/recipeReducer'\r\nimport { initFooditems } from './reducers/fooditemReducer'\r\nimport { Switch, Route, Link, Redirect, useRouteMatch, useHistory } from 'react-router-dom'\r\nimport { setLoggedInUser, clearLoggedInUser } from './reducers/loggedInUserReducer'\r\nimport { AppBar, Toolbar, IconButton, Container, Typography, Box, Menu, MenuItem } from '@mui/material'\r\nimport MenuIcon from '@mui/icons-material/Menu'\r\n\r\nfunction App() {\r\n  const fooditems = useSelector(state => state.fooditems)\r\n  const activeRecipe = useSelector(state => state.activeRecipe)\r\n  const loggedInUser = useSelector(state => state.loggedInUser)\r\n  const dispatch = useDispatch()\r\n\r\n  const [showLoginForm, setShowLoginForm] = useState(false)\r\n\r\n  const logout = () => {\r\n    console.log('logout!')\r\n    window.localStorage.removeItem('MatappSavedLocalUser')\r\n    dispatch(clearLoggedInUser())\r\n    fooditemService.setToken(null)\r\n    recipeService.setToken(null)\r\n  }\r\n\r\n  useEffect(() => {\r\n    const savedUserJSON = window.localStorage.getItem('MatappSavedLocalUser')\r\n    if(savedUserJSON) {\r\n      const savedUser = JSON.parse(savedUserJSON)\r\n      dispatch(setLoggedInUser(savedUser))\r\n      recipeService.setToken(savedUser.token)\r\n      fooditemService.setToken(savedUser.token)\r\n    }\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    recipeService\r\n      .getAll()\r\n      .then(response => {\r\n        dispatch(initRecipes(response.data))\r\n      })\r\n  }, [dispatch])\r\n\r\n  useEffect(() => {\r\n    fooditemService\r\n      .getAll()\r\n      .then(response => {\r\n        dispatch(initFooditems(response.data))\r\n      })\r\n  }, [dispatch])\r\n\r\n  const Headers = () => (\r\n    <div>\r\n\r\n      <AppBar position=\"static\">\r\n        <Container>\r\n          <Toolbar>\r\n            <IconButton\r\n              size=\"medium\"\r\n              edge=\"start\"\r\n              color=\"inherit\"\r\n              aria-label=\"menu\"\r\n              sx={{ mr: 2 }}\r\n            >\r\n              <MenuIcon />\r\n            </IconButton>\r\n            <Typography\r\n              variant=\"h5\"\r\n            >\r\n                RECIPE STUFF\r\n            </Typography>\r\n            <Menu>\r\n              <MenuItem>\r\n                <Typography\r\n                  variant='h6'\r\n                  component=\"a\"\r\n                  href=\"/\"\r\n                  sx={{\r\n                    mr: 4,\r\n                    color: 'inherit',\r\n                    textDecoration: 'none',\r\n                  }}\r\n                >\r\n                  HOME\r\n                </Typography>\r\n              </MenuItem>\r\n            </Menu>\r\n            <Typography\r\n              variant='h6'\r\n              component=\"a\"\r\n              href=\"/fooditems/\"\r\n              sx={{\r\n                mr: 2,\r\n                display: { xs: 'none', md: 'flex' },\r\n                fontFamily: 'roboto',\r\n                fontWeight: 700,\r\n                letterSpacing: '.3rem',\r\n                color: 'inherit',\r\n                textDecoration: 'none',\r\n              }}\r\n            >\r\n              FOODITEMS\r\n            </Typography>\r\n          </Toolbar>\r\n        </Container>\r\n      </AppBar>\r\n\r\n      {/*<Nav>\r\n        <Nav.Link href='/' as={Link} to='/'>\r\n          Home\r\n        </Nav.Link>\r\n        <Nav.Link href='/fooditems/' as={Link} to='/fooditems'>\r\n          Fooditems\r\n        </Nav.Link>\r\n      </Nav>\r\n      <Nav>\r\n        { loggedInUser\r\n          ? <><Navbar.Text>user {loggedInUser.username} logged in</Navbar.Text><Nav.Link to='' onClick={logout}>Logout</Nav.Link></>\r\n          : <Nav.Link to='' onClick={() => setShowLoginForm(true)}>show Login form</Nav.Link>\r\n        }\r\n      </Nav>*/}\r\n\r\n    </div>\r\n\r\n  )\r\n\r\n  return (\r\n    <Container>\r\n      <Headers />\r\n      <Notifications />\r\n      {showLoginForm ?\r\n        <LoginForm hideLoginField={() => setShowLoginForm(false)}/> :\r\n        <></>\r\n      }\r\n      <Switch>\r\n        <Route path='/recipe/:id'>\r\n          <div className='column'>\r\n            <Recipe  />\r\n          </div>\r\n          <div className='column'>\r\n            <IngredientForm />\r\n            <FooditemForm />\r\n          </div>\r\n        </Route>\r\n        <Route path='/recipe/'>\r\n          <RecipeList />\r\n        </Route>\r\n        <Route path='/fooditems/'>\r\n          <div className='column'>\r\n            <Container>\r\n              <FooditemList />\r\n            </Container>\r\n            <Container>\r\n              <FooditemForm />\r\n            </Container>\r\n          </div>\r\n        </Route>\r\n        <Route path='/'>\r\n          <RecipeList />\r\n        </Route>\r\n      </Switch>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default App\r\n","import { createStore, combineReducers, applyMiddleware } from 'redux'\r\nimport { composeWithDevTools } from 'redux-devtools-extension'\r\nimport thunk from 'redux-thunk'\r\n\r\nimport fooditemReducer from './reducers/fooditemReducer'\r\nimport recipeReducer from './reducers/recipeReducer'\r\nimport activeRecipeReducer from './reducers/activeRecipeReducer'\r\nimport loggedInUserReducer from './reducers/loggedInUserReducer'\r\nimport notificationReducer from './reducers/notificationReducer'\r\nimport timerReducer from './reducers/timerReducer'\r\n\r\nconst reducer = combineReducers({\r\n  fooditems: fooditemReducer,\r\n  recipes: recipeReducer,\r\n  activeRecipe: activeRecipeReducer,\r\n  loggedInUser: loggedInUserReducer,\r\n  notification: notificationReducer,\r\n  timer: timerReducer\r\n})\r\n\r\nconst store = createStore(\r\n  reducer,\r\n  composeWithDevTools(applyMiddleware(thunk))\r\n)\r\n\r\nexport default store\r\n\r\n\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './App'\r\nimport { Provider } from 'react-redux'\r\nimport store from './store'\r\nimport { BrowserRouter as Router } from 'react-router-dom'\r\n\r\nReactDOM.render(\r\n  <Router>\r\n    <Provider store={store} >\r\n      <App />\r\n    </Provider>\r\n  </Router>,\r\n  document.getElementById('root')\r\n)\r\n"],"sourceRoot":""}